{"version":3,"file":"high-lab-dynamic-table.mjs","sources":["../../../projects/dynamic-table/src/lib/injectors.ts","../../../projects/dynamic-table/src/lib/data-table-cell.directive.ts","../../../projects/dynamic-table/src/lib/animations/fade.animation.ts","../../../projects/dynamic-table/src/lib/dynamic-table-query-params.model.ts","../../../projects/dynamic-table/src/lib/pagination-state.helper.ts","../../../projects/dynamic-table/src/lib/sort-state.helper.ts","../../../projects/dynamic-table/src/lib/dynamic-table.component.ts","../../../projects/dynamic-table/src/lib/dynamic-table.component.html","../../../projects/dynamic-table/src/lib/dynamic-table.module.ts","../../../projects/dynamic-table/src/lib/data-table-cell.component.ts","../../../projects/dynamic-table/src/lib/table-cell.ts","../../../projects/dynamic-table/src/public-api.ts","../../../projects/dynamic-table/src/high-lab-dynamic-table.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\r\n\r\nexport const DATA_TABLE_CONFIG: InjectionToken<string> = new InjectionToken('dynamicTableConfig');\r\nexport const DATA_TABLE_CONFIG_MAP: InjectionToken<string> = new InjectionToken('dynamicTableConfigMap');\r\n","import {\r\n  ComponentFactoryResolver,\r\n  ComponentRef,\r\n  Directive,\r\n  Inject,\r\n  Input,\r\n  OnChanges,\r\n  SimpleChanges, TemplateRef,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport { DataTableCellComponent } from './data-table-cell.component';\r\nimport { TableCell } from './table-cell';\r\nimport { DATA_TABLE_CONFIG_MAP } from './injectors';\r\n\r\n\r\n@Directive({\r\n  selector: '[cell]'\r\n})\r\nexport class DataTableCellDirective implements OnChanges {\r\n  public component!: ComponentRef<any>;\r\n\r\n  @Input()\r\n  public cellConfig!: TableCell;\r\n\r\n  @Input()\r\n  public row!: any;\r\n\r\n  @Input()\r\n  public template!: TemplateRef<any>;\r\n\r\n  constructor(private readonly viewContainerRef: ViewContainerRef,\r\n              private readonly componentFactoryResolver: ComponentFactoryResolver,\r\n              @Inject(DATA_TABLE_CONFIG_MAP)\r\n              private readonly componentsByConfig: Map<any, DataTableCellComponent>,\r\n  ) {\r\n  }\r\n\r\n  public ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.cellConfig && changes.cellConfig.currentValue) {\r\n      const constructor = (this.cellConfig as any).constructor;\r\n      if (!this.componentsByConfig.get(constructor)) {\r\n        throw new Error(\r\n          `Trying to use an unsupported type (${constructor}).`\r\n        );\r\n      }\r\n\r\n      const component = this.componentFactoryResolver.resolveComponentFactory(\r\n        this.componentsByConfig.get(constructor) as any\r\n      );\r\n\r\n      this.component = this.viewContainerRef.createComponent(component);\r\n      this.setComponentProps();\r\n    }\r\n  }\r\n\r\n  public setComponentProps() {\r\n    this.component.instance.cellConfig = this.cellConfig;\r\n    this.component.instance.row = this.row;\r\n    this.component.instance.template = this.template;\r\n  }\r\n}\r\n","import { animate, keyframes, style, transition, trigger } from '@angular/animations';\r\n\r\nexport function paginationFadeInAnimation(timings: string | number = '0.12s ease-in-out') {\r\n    return trigger('paginationFadeIn', [\r\n        transition(`void => *`, [\r\n            animate(timings, keyframes([\r\n                style({ width: 0, offset: 0 }),\r\n                style({ width: 32, offset: 1 })\r\n            ])),\r\n        ]),\r\n    ]);\r\n}\r\n\r\nexport function paginationFadeOutAnimation(timings: string | number = '0.12s ease-in-out') {\r\n    return trigger('paginationFadeOut', [\r\n        transition('* => void', [\r\n            animate(timings, keyframes([\r\n                style({ width: 32, offset: 0 }),\r\n                style({ width: 0, offset: 1 })\r\n            ])),\r\n        ]),\r\n    ]);\r\n}\r\n","import { StrictModel, StrictProperty } from '@high-lab/strict-model';\r\nimport { DataTableQueryParams, DataTableQueryParamsMapping } from './interfaces';\r\n\r\nexport class DynamicTableQueryParamsModel extends StrictModel {\r\n\t@StrictProperty(Number)\r\n\tpublic page: number;\r\n\r\n\t@StrictProperty(Number)\r\n\tpublic pageSize: number;\r\n\r\n\t@StrictProperty(String)\r\n\tpublic sort: string;\r\n\r\n\tconstructor(options,\r\n\t\t\t\tpublic mapping: DataTableQueryParamsMapping,\r\n\t\t\t\tpublic defaultValues: DataTableQueryParams,\r\n\t) {\r\n\t\tsuper({\r\n\t\t\tpage: options[mapping.page] ?? defaultValues.page,\r\n\t\t\tpageSize: options[mapping.pageSize] ?? defaultValues.pageSize,\r\n\t\t\tsort: options[mapping.sort] ?? defaultValues.sort,\r\n\t\t}, false);\r\n\t}\r\n\r\n\tpublic toString(questionMark?: boolean): string {\r\n\t\tlet str = `${this.mapping.page}=${this.page}&` +\r\n\t\t\t`${this.mapping.pageSize}=${this.pageSize}&` +\r\n\t\t\t`${this.mapping.sort}=${this.sort}`;\r\n\r\n\t\treturn (questionMark ? '?' : '') + str;\r\n\t}\r\n\r\n\tpublic toJSON(): Partial<DynamicTableQueryParamsModel> {\r\n\t\treturn Object.entries(super.toJSON()).reduce((acc, [key, value]) => {\r\n\t\t\tif (value !== '' && value !== null) {\r\n\t\t\t\tacc[this.mapping[key]] = value;\r\n\t\t\t}\r\n\t\t\treturn acc;\r\n\t\t}, {});\r\n\t}\r\n}","export class PaginationStateHelper {\r\n    public page: number;\r\n    public pageCount: number;\r\n    public pageArray: Array<{ isNumber: boolean, value: number }> = [];\r\n\r\n    constructor(public range: number) {}\r\n\r\n\r\n    public get isFirstPage(): boolean {\r\n        return this.page === 1;\r\n    };\r\n\r\n    public get isLastPage(): boolean {\r\n        return this.page === this.pageCount;\r\n    };\r\n\r\n    public setPage(value: number): number {\r\n        if (value < 1) {\r\n            this.page = 1;\r\n        } else if (value > this.pageCount) {\r\n            this.page = this.pageCount;\r\n        } else {\r\n            this.page = value;\r\n        }\r\n\r\n        this.updateState();\r\n\r\n        return this.page;\r\n    }\r\n\r\n    public setPageCount(value: number): void {\r\n        if (value < 1) {\r\n            this.pageCount = 1;\r\n        } else {\r\n            this.pageCount = value;\r\n        }\r\n\r\n        if (this.page > this.pageCount) {\r\n            this.page = this.pageCount;\r\n        }\r\n\r\n        this.updateState();\r\n    }\r\n\r\n    public prevPage(): number {\r\n        if (!this.isFirstPage) {\r\n            this.page--;\r\n            this.updateState();\r\n        }\r\n\r\n        return this.page;\r\n    }\r\n\r\n    public nextPage(): number {\r\n        if (!this.isLastPage) {\r\n            this.page++;\r\n            this.updateState();\r\n        }\r\n\r\n        return this.page;\r\n    }\r\n\r\n    private updateState(): void {\r\n        this.pageArray = [];\r\n\r\n        if (this.pageCount < this.range * 2 + 3) {\r\n            for (let i = 1; i <= this.pageCount; i++) {\r\n                this.pageArray.push({isNumber: true, value: i});\r\n            }\r\n        } else if (this.page < this.range * 2 - 1) {\r\n            for (let i = 1; i <= this.range * 2 + 1; i++) {\r\n                this.pageArray.push({isNumber: true, value: i});\r\n            }\r\n\r\n            this.pageArray.push({ isNumber: false, value: null });\r\n            this.pageArray.push({ isNumber: true, value: this.pageCount });\r\n        } else if (this.page > this.pageCount - this.range - 2) {\r\n            this.pageArray.push({ isNumber: true, value: 1 });\r\n            this.pageArray.push({ isNumber: false, value: null });\r\n\r\n            for (let i = this.pageCount - this.range * 2; i <= this.pageCount; i++) {\r\n                this.pageArray.push({isNumber: true, value: i});\r\n            }\r\n        } else {\r\n            this.pageArray.push({ isNumber: true, value: 1 });\r\n            this.pageArray.push({ isNumber: false, value: null });\r\n\r\n            for (let i = this.page - this.range + 1; i < this.page + this.range; i++) {\r\n                this.pageArray.push({isNumber: true, value: i});\r\n            }\r\n\r\n            this.pageArray.push({ isNumber: false, value: null });\r\n            this.pageArray.push({ isNumber: true, value: this.pageCount });\r\n        }\r\n    }\r\n}","export class SortStateHelper {\r\n\tpublic active: string;\r\n\tpublic direction: string;\r\n\r\n\tpublic fromString(value: string): void {\r\n\t\tconst newValue = value ? value.split(',') : [];\r\n\r\n\t\tthis.active = newValue[0];\r\n\t\tthis.direction = newValue[1] === 'asc' ? 'asc' : 'desc';\r\n\t}\r\n\r\n\tpublic toString(): string | null {\r\n\t\tif (!this.active || !this.direction) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\treturn `${this.active},${this.direction}`\r\n\t}\r\n\r\n\tpublic update(active: string): void {\r\n\t\tif (active === this.active) {\r\n\t\t\tthis.nextDirection();\r\n\t\t} else {\r\n\t\t\tthis.active = active;\r\n\t\t\tthis.direction = 'asc';\r\n\t\t}\r\n\t}\r\n\r\n\tpublic nextDirection(): void {\r\n\t\t// if (this.direction === 'asc') {\r\n\t\t// \tthis.direction = 'desc';\r\n\t\t// } else if (this.direction === 'desc') {\r\n\t\t// \tthis.direction = null;\r\n\t\t// \tthis.active = null;\r\n\t\t// } else {\r\n\t\t// \tthis.direction = 'asc';\r\n\t\t// }\r\n\r\n\t\tif (this.direction === 'asc') {\r\n\t\t\tthis.direction = 'desc';\r\n\t\t} else {\r\n\t\t\tthis.direction = 'asc';\r\n\t\t}\r\n\t}\r\n}","import {\r\n\tChangeDetectionStrategy,\r\n\tChangeDetectorRef,\r\n\tComponent,\r\n\tElementRef,\r\n\tEventEmitter,\r\n\tInject,\r\n\tInput,\r\n\tOnChanges,\r\n\tOnDestroy,\r\n\tOnInit,\r\n\tOutput, QueryList,\r\n\tSimpleChanges,\r\n\tTemplateRef, ViewChildren,\r\n} from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { LoadingProgress, Pagination, SubscriptionHelper } from '@high-lab/core';\r\nimport { paginationFadeInAnimation, paginationFadeOutAnimation } from './animations';\r\nimport { DataTableCellComponent } from './data-table-cell.component';\r\nimport { DynamicTableQueryParamsModel } from './dynamic-table-query-params.model';\r\nimport { DATA_TABLE_CONFIG_MAP } from './injectors';\r\nimport { DataTableQueryParams, DataTableQueryParamsMapping } from './interfaces';\r\nimport { PaginationStateHelper } from './pagination-state.helper';\r\nimport { SortStateHelper } from './sort-state.helper';\r\nimport { TableCell } from './table-cell';\r\n\r\n\r\n@Component({\r\n\tselector: 'dynamic-table',\r\n\ttemplateUrl: './dynamic-table.component.html',\r\n\tstyleUrls: ['./dynamic-table.component.scss'],\r\n\tanimations: [paginationFadeInAnimation(), paginationFadeOutAnimation()],\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class DynamicTableComponent<T> implements OnChanges, OnInit, OnDestroy {\r\n\tprotected readonly subscriptionHelper = new SubscriptionHelper();\r\n\r\n\tprotected innerActivatedRoute: ActivatedRoute;\r\n\tprotected preventEmitEvent: boolean;\r\n\tpublic queryParamsModel: DynamicTableQueryParamsModel;\r\n\tpublic lastRenderedSizes: number[] = [];\r\n\r\n\tpublic paginationState: PaginationStateHelper;\r\n\tpublic sortState = new SortStateHelper();\r\n\tpublic firstInit = true;\r\n\tpublic hoverIndex: number;\r\n\tpublic emptyRows: number[] = null;\r\n\r\n\t@Input()\r\n\tpublic dataSource: LoadingProgress<Pagination<T>>;\r\n\r\n\t@Input()\r\n\tpublic table: TableCell[];\r\n\r\n\t@Input()\r\n\tpublic templates: { [key: string]: TemplateRef<{ row: any }> };\r\n\r\n\t@Input()\r\n\tpublic fillEmpty: boolean;\r\n\r\n\t@Input()\r\n\tpublic fixSizeByLoading: boolean;\r\n\r\n\t@Input()\r\n\tpublic rowHeight = 56;\r\n\r\n  @Input()\r\n  public noDataMessage: string;\r\n\r\n  @Input()\r\n\tpublic queryParamsMapping: DataTableQueryParamsMapping = {\r\n\t\tpage: 'page',\r\n\t\tpageSize: 'pageSize',\r\n\t\tsort: 'sort'\r\n\t};\r\n\r\n\t@Input()\r\n\tpublic set activatedRoute(value: ActivatedRoute) {\r\n\t\tthis.innerActivatedRoute = value;\r\n\t}\r\n\r\n\tpublic get activatedRoute(): ActivatedRoute {\r\n\t\treturn this.innerActivatedRoute || this.selfActivatedRoute;\r\n\t}\r\n\r\n\t@Input()\r\n\tpublic trackBy: (index: number, row: any) => any = (index, row) => {\r\n\t\treturn row;\r\n\t}\r\n\r\n\t@Output()\r\n\tpublic requestPageData = new EventEmitter<DynamicTableQueryParamsModel>();\r\n\r\n\t@Output()\r\n\tpublic rowClick = new EventEmitter<T>();\r\n\r\n\t@ViewChildren('thRef')\r\n\tpublic thRef: QueryList<ElementRef<HTMLTableHeaderCellElement>>;\r\n\r\n\tconstructor(private readonly elementRef: ElementRef,\r\n\t            private readonly changeDetectorRef: ChangeDetectorRef,\r\n\t            private readonly router: Router,\r\n\t            private readonly selfActivatedRoute: ActivatedRoute,\r\n\t            @Inject(DATA_TABLE_CONFIG_MAP)\r\n\t            private readonly componentsByConfig: Map<any, DataTableCellComponent>,\r\n\t) {}\r\n\r\n\tpublic async ngOnInit() {\r\n\t\tthis.queryParamsModel = this.getQueryParamsModel();\r\n\t\tawait this.updateRouterQueryParams(true, true);\r\n\r\n\t\tthis.subscriptionHelper.next = this.activatedRoute.queryParams.subscribe(() => {\r\n\t\t\tconst newQueryParamsModel = this.getQueryParamsModel();\r\n\r\n\t\t\tif (this.queryParamsModel.toString() !== newQueryParamsModel.toString()) {\r\n\t\t\t\tthis.queryParamsModel = newQueryParamsModel;\r\n\t\t\t\tthis.requestPageData.emit(this.queryParamsModel);\r\n\r\n\t\t\t\tif (this.paginationState) {\r\n\t\t\t\t\tthis.paginationState.page = this.queryParamsModel.page;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.sortState.fromString(this.queryParamsModel.sort);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tpublic ngOnChanges(changes: SimpleChanges): void {\r\n\t\tif (changes.dataSource && changes.dataSource.currentValue && this.dataSource.isSuccess) {\r\n\t\t\tif (!this.paginationState) {\r\n\t\t\t\tthis.paginationState = new PaginationStateHelper(4)\r\n\t\t\t}\r\n\r\n\t\t\tthis.paginationState.setPageCount(this.dataSource.pagination.totalPages);\r\n\t\t\tthis.paginationState.setPage(this.dataSource.pagination.page);\r\n\t\t\tthis.sortState.fromString(this.dataSource.pagination.sort);\r\n\r\n\t\t\tif (this.fixSizeByLoading) {\r\n\t\t\t\tthis.updateLastRenderedSizes();\r\n\t\t\t}\r\n\r\n\t\t\tif (this.fillEmpty) {\r\n\t\t\t\tthis.emptyRows = new Array(this.dataSource.pagination.pageSize - this.dataSource.data.length).fill(null);\r\n\t\t\t} else {\r\n\t\t\t\tthis.emptyRows = null;\r\n\t\t\t}\r\n\r\n\t\t\tlet updateRouterQueryParams = false;\r\n\r\n\t\t\tif (this.sortState.toString() !== this.queryParamsModel.sort) {\r\n\t\t\t\tthis.queryParamsModel.sort = this.sortState.toString();\r\n\t\t\t\tupdateRouterQueryParams = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.paginationState.page !== this.queryParamsModel.page) {\r\n\t\t\t\tthis.queryParamsModel.page = this.paginationState.page;\r\n\t\t\t\tupdateRouterQueryParams = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (updateRouterQueryParams) {\r\n\t\t\t\tthis.updateRouterQueryParams();\r\n\t\t\t}\r\n\r\n\t\t\tthis.changeDetectorRef.detectChanges();\r\n\t\t\tthis.firstInit = false;\r\n\t\t}\r\n\r\n\t\tif (changes.queryParamsMapping) {\r\n\t\t\tthis.queryParamsModel = this.getQueryParamsModel();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic ngOnDestroy() {\r\n\t\tthis.subscriptionHelper.unsubscribeAll();\r\n\t}\r\n\r\n\tpublic get countOfRows(): number {\r\n\t\tconst count = Math.floor(this.elementRef.nativeElement.getBoundingClientRect().height / this.rowHeight) - 2;\r\n\r\n\t\tif (count <= 0) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\treturn count;\r\n\t}\r\n\r\n\tpublic get tableHeight(): string {\r\n\t\tif (this.dataSource.isLoading || this.dataSource.isEmptyData ||\r\n\t\t\tthis.dataSource.isFailure || this.countOfRows === this.dataSource.data.length ||\r\n\t\t\tthis.fillEmpty\r\n\t\t) {\r\n\t\t\treturn '100%';\r\n\t\t}\r\n\r\n\t\treturn 'auto';\r\n\t}\r\n\r\n\tpublic get skeletonRows(): number[] {\r\n\t\treturn new Array(this.countOfRows);\r\n\t}\r\n\r\n\tpublic trackPaginationBy = (index, item) => {\r\n\t\treturn item.value;\r\n\t}\r\n\r\n\tpublic getWidth(index) {\r\n\t\tif (!this.fixSizeByLoading || !this.lastRenderedSizes[index] || this.dataSource.isLoaded) {\r\n\t\t\treturn 'auto';\r\n\t\t}\r\n\r\n\t\treturn `${this.lastRenderedSizes[index]}px`;\r\n\t}\r\n\r\n\tpublic onClick(event: MouseEvent, row: any) {\r\n\t\tthis.rowClick.next(row);\r\n\t}\r\n\r\n\tpublic onMouseOver(evt: MouseEvent, rowIndex: number): void {\r\n\t\tif (this.hoverIndex !== rowIndex) {\r\n\t\t\tthis.hoverIndex = rowIndex;\r\n\t\t\tthis.changeDetectorRef.detectChanges();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic onMouseOut(): void {\r\n\t\tif (this.hoverIndex !== null) {\r\n\t\t\tthis.hoverIndex = null;\r\n\t\t\tthis.changeDetectorRef.detectChanges();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic onPaginationChange(nextPage: number): void {\r\n\t\tthis.queryParamsModel.page = nextPage;\r\n\t\tthis.updateRouterQueryParams(false);\r\n\t}\r\n\r\n\tpublic onSortChange(cell: TableCell): void {\r\n\t\tif (!cell.sort) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.sortState.update(cell.key);\r\n\t\tthis.queryParamsModel.sort = this.sortState.toString();\r\n\t\tthis.updateRouterQueryParams(false);\r\n\t}\r\n\r\n\tprivate getQueryParamsModel(): DynamicTableQueryParamsModel {\r\n\t\treturn new DynamicTableQueryParamsModel(this.activatedRoute.snapshot.queryParams, this.queryParamsMapping, this.getDefaultQueryParams())\r\n\t}\r\n\r\n\tprivate getDefaultQueryParams(): DataTableQueryParams {\r\n\t\tconst defaultSort = this.table.find(v => v.defaultSort)?.key;\r\n\t\tconst firstSort = this.table.find(v => v.sort)?.key;\r\n\t\tconst sort = defaultSort || firstSort || '';\r\n\r\n\t\treturn {\r\n\t\t\tpage: 1,\r\n\t\t\tpageSize: this.countOfRows,\r\n\t\t\tsort: `${sort}${sort ? ',desc' : ''}`,\r\n\t\t}\r\n\t}\r\n\r\n\tprivate updateRouterQueryParams(replaceUrl = true, emitEvent = false): Promise<boolean> {\r\n\t\tconst allQueryParams = { ...this.activatedRoute.snapshot.queryParams };\r\n\t\tconst newQueryParams = this.queryParamsModel.toJSON();\r\n\r\n\t\tif (!newQueryParams.hasOwnProperty(this.queryParamsMapping.sort)) {\r\n\t\t\tdelete allQueryParams[this.queryParamsMapping.sort];\r\n\t\t}\r\n\r\n\t\tif (!replaceUrl || emitEvent) {\r\n\t\t\tthis.requestPageData.emit(this.queryParamsModel);\r\n\t\t}\r\n\r\n\t\treturn this.router.navigate(['./'], {\r\n\t\t\treplaceUrl,\r\n\t\t\tqueryParams: { ...allQueryParams, ...newQueryParams },\r\n\t\t\trelativeTo: this.activatedRoute,\r\n\t\t});\r\n\t}\r\n\r\n\tprivate updateLastRenderedSizes(): void {\r\n\t\trequestAnimationFrame(() => {\r\n\t\t\tthis.lastRenderedSizes = [];\r\n\t\t\tthis.thRef.forEach(item => this.lastRenderedSizes.push(item.nativeElement.getBoundingClientRect().width));\r\n\t\t})\r\n\t}\r\n}\r\n","<mat-progress-bar *ngIf=\"dataSource.isLoading\" mode=\"indeterminate\" [style.top.px]=\"rowHeight - 4\"></mat-progress-bar>\r\n\r\n<table [style.height]=\"tableHeight\"\r\n       [style.table-layout]=\"this.fixSizeByLoading && !this.dataSource.isLoaded ? 'fixed' : 'auto'\"\r\n>\r\n    <thead>\r\n        <tr [style.height.px]=\"rowHeight\">\r\n            <th [class.with-sort]=\"item.sort\"\r\n                [style.width]=\"getWidth(index)\"\r\n                #thRef\r\n                *ngFor=\"let item of table; let index = index\"\r\n                (click)=\"onSortChange(item)\"\r\n            >\r\n               <div class=\"d-fx ai-c\">\r\n                   {{item.label}}\r\n\r\n                   <div *ngIf=\"item.sort\" class=\"sort\">\r\n                       <mat-icon [class.active]=\"sortState.active === item.key && sortState.direction === 'asc'\">arrow_drop_up</mat-icon>\r\n                       <mat-icon [class.active]=\"sortState.active === item.key && sortState.direction === 'desc'\">arrow_drop_down</mat-icon>\r\n                   </div>\r\n               </div>\r\n            </th>\r\n<!--            <ng-container *ngTemplateOutlet=\"headComponent?.headRef;\"></ng-container>-->\r\n        </tr>\r\n    </thead>\r\n\r\n\r\n    <tbody [style.height.px]=\"rowHeight\">\r\n        <ng-container *ngIf=\"dataSource.isLoading\">\r\n            <tr *ngFor=\"let item of skeletonRows; let odd = odd\">\r\n                <td class=\"cell\" *ngFor=\"let x of table\">\r\n                    <div class=\"content-loader\"\r\n                         [class.content-loader--odd]=\"odd\"\r\n                    ></div>\r\n                </td>\r\n            </tr>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"dataSource.isSuccess && !dataSource.isEmptyData\">\r\n            <tr *ngFor=\"let row of dataSource.data; trackBy: trackBy let index = index\"\r\n                [class.hover]=\"hoverIndex === index\"\r\n                (click)=\"onClick($event, row)\"\r\n                (mouseover)=\"onMouseOver($event, index)\"\r\n                (mouseout)=\"onMouseOut()\"\r\n            >\r\n<!--                [class.hover-enabled]=\"rowComponent.hover\"-->\r\n                <ng-container *ngFor=\"let cell of table\"\r\n                              cell\r\n                              [cellConfig]=\"cell\"\r\n                              [row]=\"row\"\r\n                              [template]=\"templates[cell.key]\"\r\n                ></ng-container>\r\n<!--                <ng-container *ngTemplateOutlet=\"rowComponent?.rowRef; context: {item}\"></ng-container>-->\r\n            </tr>\r\n\r\n            <tr *ngFor=\"let x of emptyRows\" class=\"empty-row\">\r\n                <td [attr.colSpan]=\"table.length\"></td>\r\n            </tr>\r\n        </ng-container>\r\n\r\n\r\n        <ng-container *ngIf=\"dataSource.isSuccess && dataSource.isEmptyData\">\r\n            <tr>\r\n                <td [attr.colSpan]=\"table.length\" class=\"ta-c\">\r\n                  {{noDataMessage || 'No Data'}}\r\n                </td>\r\n            </tr>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"dataSource.isFailure\">\r\n            <tr>\r\n                <td [attr.colSpan]=\"table.length\" class=\"ta-c\">\r\n                    Oops! Something went wrong.<br/>\r\n                    Please try again later.\r\n                </td>\r\n            </tr>\r\n        </ng-container>\r\n    </tbody>\r\n\r\n\r\n    <tfoot>\r\n        <tr [style.height.px]=\"rowHeight\">\r\n            <td [attr.colSpan]=\"table.length\">\r\n\r\n                <div class=\"pagination\" *ngIf=\"dataSource.isSuccess || paginationState\">\r\n                    <mat-icon class=\"pagination__arrow\"\r\n                              [class.pagination__arrow--disabled]=\"paginationState.isFirstPage\"\r\n                              (click)=\"onPaginationChange(paginationState.prevPage())\"\r\n                    >chevron_left</mat-icon>\r\n\r\n                    <div class=\"d-fx ai-c\" [style.width.px]=\"paginationState.pageArray.length * 32\">\r\n                        <ng-container *ngFor=\"let item of paginationState.pageArray; trackBy: trackPaginationBy\">\r\n                            <div class=\"pagination__page\"\r\n                                 [class.pagination__page--active]=\"item.value === paginationState.page\"\r\n                                 *ngIf=\"item.isNumber\"\r\n                                 [@paginationFadeIn]=\"!firstInit ? 'enabled' : null\"\r\n                                 [@paginationFadeOut]=\"!firstInit ? 'enabled' : null\"\r\n                                 (click)=\"onPaginationChange(paginationState.setPage(item.value))\"\r\n                            >{{item.value}}</div>\r\n\r\n                            <div class=\"pagination__space\"\r\n                                 *ngIf=\"!item.isNumber\"\r\n                                 [@paginationFadeIn]=\"!firstInit ? 'enabled' : null\"\r\n                                 [@paginationFadeOut]=\"!firstInit ? 'enabled' : null\"\r\n                            >...</div>\r\n                        </ng-container>\r\n                    </div>\r\n\r\n                    <mat-icon class=\"pagination__arrow\"\r\n                              [class.pagination__arrow--disabled]=\"paginationState.isLastPage\"\r\n                              (click)=\"onPaginationChange(paginationState.nextPage())\"\r\n                    >chevron_right</mat-icon>\r\n                </div>\r\n\r\n                <div class=\"d-fx ai-c jc-c\" *ngIf=\"dataSource.isLoading && !paginationState\">\r\n                    <div class=\"content-loader mr-x\" *ngFor=\"let x of [0, 0, 0 ,0 ,0, 0, 0]\"></div>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    </tfoot>\r\n</table>\r\n","import { CommonModule } from '@angular/common';\r\nimport { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\nimport { DataTableCellDirective } from './data-table-cell.directive';\r\nimport { DataTableConfig } from './data-table.config';\r\nimport { DATA_TABLE_CONFIG, DATA_TABLE_CONFIG_MAP } from './injectors';\r\nimport { DynamicTableComponent } from './dynamic-table.component';\r\n\r\n\r\n@NgModule({\r\n\tdeclarations: [\r\n\t\tDynamicTableComponent,\r\n\t\tDataTableCellDirective,\r\n\t],\r\n\timports: [\r\n\t\tCommonModule,\r\n\t\tMatIconModule,\r\n\t\tMatProgressBarModule\r\n\t],\r\n\texports: [DynamicTableComponent]\r\n})\r\nexport class DynamicTableModule {\r\n\tpublic static config(\r\n\t\tdataTableConfig: DataTableConfig,\r\n\t): ModuleWithProviders<DynamicTableModule> {\r\n\t\tconst dataTableConfigMap = new Map(dataTableConfig.map(v => ([v.config, v.component])));\r\n\r\n\t\treturn {\r\n\t\t\tngModule: DynamicTableModule,\r\n\t\t\tproviders: [\r\n\t\t\t\t{ provide: DATA_TABLE_CONFIG, useValue: dataTableConfig },\r\n\t\t\t\t{ provide: DATA_TABLE_CONFIG_MAP, useValue: dataTableConfigMap },\r\n\t\t\t]\r\n\t\t};\r\n\t}\r\n}\r\n","import { Component, ElementRef, HostBinding, Input, OnDestroy, OnInit, Renderer2, TemplateRef } from '@angular/core';\r\nimport { SubscriptionHelper } from '@high-lab/core';\r\nimport { TableCell } from './table-cell';\r\n\r\n\r\n@Component({\r\n\ttemplate: '',\r\n})\r\nexport class DataTableCellComponent implements OnInit, OnDestroy {\r\n\tprivate readonly subscriptionHelper = new SubscriptionHelper();\r\n\r\n\t@Input()\r\n\tpublic cellConfig: TableCell;\r\n\r\n\t@Input()\r\n\tpublic row!: any;\r\n\r\n\t@Input()\r\n\tpublic template!: TemplateRef<any>;\r\n\r\n\t@HostBinding('class')\r\n\tpublic get cellClass(): string {\r\n\t\treturn `cell ${this.cellConfig.class || ''}`\r\n\t};\r\n\r\n\t@HostBinding('attr.stopRowEventPropagation')\r\n\tpublic get stopRowEventPropagation(): boolean {\r\n\t\treturn this.cellConfig.stopRowEventPropagation;\r\n\t}\r\n\r\n\tconstructor(private readonly elementRef: ElementRef,\r\n\t\t\t\tprivate readonly renderer2: Renderer2) {\r\n\t}\r\n\r\n\tpublic ngOnInit() {\r\n\t\tif (this.cellConfig.stopRowEventPropagation) {\r\n\t\t\tthis.subscriptionHelper.next = this.renderer2.listen(this.elementRef.nativeElement, 'click', evt => {\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t})\r\n\r\n\t\t\tthis.subscriptionHelper.next = this.renderer2.listen(this.elementRef.nativeElement, 'mouseover', evt => {\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t})\r\n\r\n\t\t\tthis.subscriptionHelper.next = this.renderer2.listen(this.elementRef.nativeElement, 'mouseout', evt => {\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tpublic ngOnDestroy() {\r\n\t\tthis.subscriptionHelper.unsubscribeAll();\r\n\t}\r\n\r\n\tpublic get displayValue(): string {\r\n\t\tif (typeof this.cellConfig.value === 'function') {\r\n\t\t\treturn this.cellConfig.value(this.row);\r\n\t\t}\r\n\r\n\t\treturn this.row[this.cellConfig.key];\r\n\t}\r\n\r\n\tpublic get hasTemplateRef(): boolean {\r\n\t\treturn !!this.template && this.template instanceof TemplateRef\r\n\t}\r\n\r\n\tpublic get templateRef(): TemplateRef<any> | null {\r\n\t\tif (this.template instanceof TemplateRef) {\r\n\t\t\treturn this.template;\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n}\r\n","export interface TableCellInterface {\r\n\tkey: string;\r\n\tlabel: string | ((row: any) => string);\r\n\tsort?: boolean;\r\n\tdefaultSort?: boolean;\r\n\tvalue?: ((row: any) => any);\r\n\tclass?: string;\r\n\tstopRowEventPropagation?: boolean;\r\n}\r\n\r\nexport class TableCell implements TableCellInterface {\r\n\tpublic key: string;\r\n\tpublic label: string | ((row: any) => string);\r\n\tpublic sort?: boolean;\r\n\tpublic defaultSort?: boolean;\r\n\tpublic value?: ((row: any) => any)\r\n\tpublic class?: string;\r\n\tpublic stopRowEventPropagation?: boolean;\r\n\r\n\tconstructor(options: TableCellInterface) {\r\n\t\tthis.key = options.key;\r\n\t\tthis.label = options.label;\r\n\t\tthis.sort = options.sort;\r\n\t\tthis.defaultSort = options.defaultSort;\r\n\t\tthis.value = options.value;\r\n\t\tthis.class = options.class;\r\n\t\tthis.stopRowEventPropagation = options.stopRowEventPropagation\r\n\t}\r\n}","/*\r\n * Public API Surface of dynamic-table\r\n */\r\n\r\n\r\nexport * from './lib/dynamic-table.module';\r\nexport * from './lib/dynamic-table.component';\r\nexport * from './lib/dynamic-table-query-params.model';\r\nexport * from './lib/data-table-cell.component';\r\nexport * from './lib/table-cell';\r\nexport * from './lib/data-table.config';\r\nexport * from './lib/injectors';\r\nexport * from './lib/interfaces';\r\n\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i5.DataTableCellDirective"],"mappings":";;;;;;;;;;;;;;MAEa,iBAAiB,GAA2B,IAAI,cAAc,CAAC,oBAAoB,EAAE;MACrF,qBAAqB,GAA2B,IAAI,cAAc,CAAC,uBAAuB;;MCe1F,sBAAsB,CAAA;AAYjC,IAAA,WAAA,CAA6B,gBAAkC,EAClC,wBAAkD,EAElD,kBAAoD,EAAA;QAHpD,IAAgB,CAAA,gBAAA,GAAhB,gBAAgB,CAAkB;QAClC,IAAwB,CAAA,wBAAA,GAAxB,wBAAwB,CAA0B;QAElD,IAAkB,CAAA,kBAAA,GAAlB,kBAAkB,CAAkC;KAEhF;AAEM,IAAA,WAAW,CAAC,OAAsB,EAAA;QACvC,IAAI,OAAO,CAAC,UAAU,IAAI,OAAO,CAAC,UAAU,CAAC,YAAY,EAAE;AACzD,YAAA,MAAM,WAAW,GAAI,IAAI,CAAC,UAAkB,CAAC,WAAW,CAAC;YACzD,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE;AAC7C,gBAAA,MAAM,IAAI,KAAK,CACb,sCAAsC,WAAW,CAAA,EAAA,CAAI,CACtD,CAAC;AACH,aAAA;AAED,YAAA,MAAM,SAAS,GAAG,IAAI,CAAC,wBAAwB,CAAC,uBAAuB,CACrE,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,WAAW,CAAQ,CAChD,CAAC;YAEF,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;YAClE,IAAI,CAAC,iBAAiB,EAAE,CAAC;AAC1B,SAAA;KACF;IAEM,iBAAiB,GAAA;QACtB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QACrD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;QACvC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;KAClD;;AAzCU,sBAAA,CAAA,IAAA,GAAA,EAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,sBAAsB,0FAcb,qBAAqB,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;wGAd9B,sBAAsB,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,EAAA,UAAA,EAAA,YAAA,EAAA,GAAA,EAAA,KAAA,EAAA,QAAA,EAAA,UAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA;4FAAtB,sBAAsB,EAAA,UAAA,EAAA,CAAA;kBAHlC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACT,oBAAA,QAAQ,EAAE,QAAQ;AACnB,iBAAA,CAAA;gIAgBkD,GAAG,EAAA,UAAA,EAAA,CAAA;0BADvC,MAAM;2BAAC,qBAAqB,CAAA;4CAVlC,UAAU,EAAA,CAAA;sBADhB,KAAK;gBAIC,GAAG,EAAA,CAAA;sBADT,KAAK;gBAIC,QAAQ,EAAA,CAAA;sBADd,KAAK;;;ACzBQ,SAAA,yBAAyB,CAAC,OAAA,GAA2B,mBAAmB,EAAA;IACpF,OAAO,OAAO,CAAC,kBAAkB,EAAE;QAC/B,UAAU,CAAC,WAAW,EAAE;AACpB,YAAA,OAAO,CAAC,OAAO,EAAE,SAAS,CAAC;gBACvB,KAAK,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;gBAC9B,KAAK,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;AAClC,aAAA,CAAC,CAAC;SACN,CAAC;AACL,KAAA,CAAC,CAAC;AACP,CAAC;AAEe,SAAA,0BAA0B,CAAC,OAAA,GAA2B,mBAAmB,EAAA;IACrF,OAAO,OAAO,CAAC,mBAAmB,EAAE;QAChC,UAAU,CAAC,WAAW,EAAE;AACpB,YAAA,OAAO,CAAC,OAAO,EAAE,SAAS,CAAC;gBACvB,KAAK,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;gBAC/B,KAAK,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;AACjC,aAAA,CAAC,CAAC;SACN,CAAC;AACL,KAAA,CAAC,CAAC;AACP;;ACnBM,MAAO,4BAA6B,SAAQ,WAAW,CAAA;AAU5D,IAAA,WAAA,CAAY,OAAO,EACT,OAAoC,EACpC,aAAmC,EAAA;AAE5C,QAAA,KAAK,CAAC;YACL,IAAI,EAAE,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,aAAa,CAAC,IAAI;YACjD,QAAQ,EAAE,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,aAAa,CAAC,QAAQ;YAC7D,IAAI,EAAE,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,aAAa,CAAC,IAAI;SACjD,EAAE,KAAK,CAAC,CAAC;QAPD,IAAO,CAAA,OAAA,GAAP,OAAO,CAA6B;QACpC,IAAa,CAAA,aAAA,GAAb,aAAa,CAAsB;KAO5C;AAEM,IAAA,QAAQ,CAAC,YAAsB,EAAA;AACrC,QAAA,IAAI,GAAG,GAAG,CAAG,EAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAI,CAAA,EAAA,IAAI,CAAC,IAAI,CAAG,CAAA,CAAA;YAC7C,CAAG,EAAA,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAI,CAAA,EAAA,IAAI,CAAC,QAAQ,CAAG,CAAA,CAAA;YAC5C,CAAG,EAAA,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAA,CAAE,CAAC;AAErC,QAAA,OAAO,CAAC,YAAY,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,CAAC;KACvC;IAEM,MAAM,GAAA;QACZ,OAAO,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,KAAK,CAAC,KAAI;AAClE,YAAA,IAAI,KAAK,KAAK,EAAE,IAAI,KAAK,KAAK,IAAI,EAAE;gBACnC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC;AAC/B,aAAA;AACD,YAAA,OAAO,GAAG,CAAC;SACX,EAAE,EAAE,CAAC,CAAC;KACP;AACD,CAAA;AAnCA,UAAA,CAAA;IADC,cAAc,CAAC,MAAM,CAAC;AACH,CAAA,EAAA,4BAAA,CAAA,SAAA,EAAA,MAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AAGpB,UAAA,CAAA;IADC,cAAc,CAAC,MAAM,CAAC;AACC,CAAA,EAAA,4BAAA,CAAA,SAAA,EAAA,UAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AAGxB,UAAA,CAAA;IADC,cAAc,CAAC,MAAM,CAAC;AACH,CAAA,EAAA,4BAAA,CAAA,SAAA,EAAA,MAAA,EAAA,KAAA,CAAA,CAAA;;MCXR,qBAAqB,CAAA;AAK9B,IAAA,WAAA,CAAmB,KAAa,EAAA;QAAb,IAAK,CAAA,KAAA,GAAL,KAAK,CAAQ;QAFzB,IAAS,CAAA,SAAA,GAAgD,EAAE,CAAC;KAE/B;AAGpC,IAAA,IAAW,WAAW,GAAA;AAClB,QAAA,OAAO,IAAI,CAAC,IAAI,KAAK,CAAC,CAAC;KAC1B;;AAED,IAAA,IAAW,UAAU,GAAA;AACjB,QAAA,OAAO,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,SAAS,CAAC;KACvC;;AAEM,IAAA,OAAO,CAAC,KAAa,EAAA;QACxB,IAAI,KAAK,GAAG,CAAC,EAAE;AACX,YAAA,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;AACjB,SAAA;AAAM,aAAA,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,EAAE;AAC/B,YAAA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;AAC9B,SAAA;AAAM,aAAA;AACH,YAAA,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;AACrB,SAAA;QAED,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,OAAO,IAAI,CAAC,IAAI,CAAC;KACpB;AAEM,IAAA,YAAY,CAAC,KAAa,EAAA;QAC7B,IAAI,KAAK,GAAG,CAAC,EAAE;AACX,YAAA,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;AACtB,SAAA;AAAM,aAAA;AACH,YAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AAC1B,SAAA;AAED,QAAA,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,EAAE;AAC5B,YAAA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;AAC9B,SAAA;QAED,IAAI,CAAC,WAAW,EAAE,CAAC;KACtB;IAEM,QAAQ,GAAA;AACX,QAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACnB,IAAI,CAAC,IAAI,EAAE,CAAC;YACZ,IAAI,CAAC,WAAW,EAAE,CAAC;AACtB,SAAA;QAED,OAAO,IAAI,CAAC,IAAI,CAAC;KACpB;IAEM,QAAQ,GAAA;AACX,QAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,IAAI,CAAC,IAAI,EAAE,CAAC;YACZ,IAAI,CAAC,WAAW,EAAE,CAAC;AACtB,SAAA;QAED,OAAO,IAAI,CAAC,IAAI,CAAC;KACpB;IAEO,WAAW,GAAA;AACf,QAAA,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QAEpB,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,EAAE;AACrC,YAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,EAAE;AACtC,gBAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAC,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,EAAC,CAAC,CAAC;AACnD,aAAA;AACJ,SAAA;aAAM,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,EAAE;AACvC,YAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AAC1C,gBAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAC,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,EAAC,CAAC,CAAC;AACnD,aAAA;AAED,YAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACtD,YAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;AAClE,SAAA;AAAM,aAAA,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE;AACpD,YAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;AAClD,YAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;YAEtD,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,EAAE;AACpE,gBAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAC,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,EAAC,CAAC,CAAC;AACnD,aAAA;AACJ,SAAA;AAAM,aAAA;AACH,YAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;AAClD,YAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;YAEtD,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE;AACtE,gBAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAC,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,EAAC,CAAC,CAAC;AACnD,aAAA;AAED,YAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACtD,YAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;AAClE,SAAA;KACJ;AACJ;;MC/FY,eAAe,CAAA;AAIpB,IAAA,UAAU,CAAC,KAAa,EAAA;AAC9B,QAAA,MAAM,QAAQ,GAAG,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;AAE/C,QAAA,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;AAC1B,QAAA,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,KAAK,KAAK,GAAG,KAAK,GAAG,MAAM,CAAC;KACxD;IAEM,QAAQ,GAAA;QACd,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;AACpC,YAAA,OAAO,EAAE,CAAC;AACV,SAAA;QACD,OAAO,CAAA,EAAG,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,SAAS,CAAA,CAAE,CAAA;KACzC;AAEM,IAAA,MAAM,CAAC,MAAc,EAAA;AAC3B,QAAA,IAAI,MAAM,KAAK,IAAI,CAAC,MAAM,EAAE;YAC3B,IAAI,CAAC,aAAa,EAAE,CAAC;AACrB,SAAA;AAAM,aAAA;AACN,YAAA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACrB,YAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,SAAA;KACD;IAEM,aAAa,GAAA;;;;;;;;;AAUnB,QAAA,IAAI,IAAI,CAAC,SAAS,KAAK,KAAK,EAAE;AAC7B,YAAA,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;AACxB,SAAA;AAAM,aAAA;AACN,YAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,SAAA;KACD;AACD;;MCTY,qBAAqB,CAAA;IAiEjC,WAA6B,CAAA,UAAsB,EACtB,iBAAoC,EACpC,MAAc,EACd,kBAAkC,EAElC,kBAAoD,EAAA;QALpD,IAAU,CAAA,UAAA,GAAV,UAAU,CAAY;QACtB,IAAiB,CAAA,iBAAA,GAAjB,iBAAiB,CAAmB;QACpC,IAAM,CAAA,MAAA,GAAN,MAAM,CAAQ;QACd,IAAkB,CAAA,kBAAA,GAAlB,kBAAkB,CAAgB;QAElC,IAAkB,CAAA,kBAAA,GAAlB,kBAAkB,CAAkC;AArE9D,QAAA,IAAA,CAAA,kBAAkB,GAAG,IAAI,kBAAkB,EAAE,CAAC;QAK1D,IAAiB,CAAA,iBAAA,GAAa,EAAE,CAAC;AAGjC,QAAA,IAAA,CAAA,SAAS,GAAG,IAAI,eAAe,EAAE,CAAC;QAClC,IAAS,CAAA,SAAA,GAAG,IAAI,CAAC;QAEjB,IAAS,CAAA,SAAA,GAAa,IAAI,CAAC;QAkB3B,IAAS,CAAA,SAAA,GAAG,EAAE,CAAC;AAMf,QAAA,IAAA,CAAA,kBAAkB,GAAgC;AACxD,YAAA,IAAI,EAAE,MAAM;AACZ,YAAA,QAAQ,EAAE,UAAU;AACpB,YAAA,IAAI,EAAE,MAAM;SACZ,CAAC;AAYK,QAAA,IAAA,CAAA,OAAO,GAAqC,CAAC,KAAK,EAAE,GAAG,KAAI;AACjE,YAAA,OAAO,GAAG,CAAC;AACZ,SAAC,CAAA;AAGM,QAAA,IAAA,CAAA,eAAe,GAAG,IAAI,YAAY,EAAgC,CAAC;AAGnE,QAAA,IAAA,CAAA,QAAQ,GAAG,IAAI,YAAY,EAAK,CAAC;AA2GjC,QAAA,IAAA,CAAA,iBAAiB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YAC1C,OAAO,IAAI,CAAC,KAAK,CAAC;AACnB,SAAC,CAAA;KAlGG;IA7BJ,IACW,cAAc,CAAC,KAAqB,EAAA;AAC9C,QAAA,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;KACjC;AAED,IAAA,IAAW,cAAc,GAAA;AACxB,QAAA,OAAO,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,kBAAkB,CAAC;KAC3D;AAwBM,IAAA,MAAM,QAAQ,GAAA;AACpB,QAAA,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;QACnD,MAAM,IAAI,CAAC,uBAAuB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AAE/C,QAAA,IAAI,CAAC,kBAAkB,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,SAAS,CAAC,MAAK;AAC7E,YAAA,MAAM,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAEvD,IAAI,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,KAAK,mBAAmB,CAAC,QAAQ,EAAE,EAAE;AACxE,gBAAA,IAAI,CAAC,gBAAgB,GAAG,mBAAmB,CAAC;gBAC5C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBAEjD,IAAI,IAAI,CAAC,eAAe,EAAE;oBACzB,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;AACvD,iBAAA;gBAED,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;AACtD,aAAA;AACF,SAAC,CAAC,CAAC;KACH;AAEM,IAAA,WAAW,CAAC,OAAsB,EAAA;AACxC,QAAA,IAAI,OAAO,CAAC,UAAU,IAAI,OAAO,CAAC,UAAU,CAAC,YAAY,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE;AACvF,YAAA,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;gBAC1B,IAAI,CAAC,eAAe,GAAG,IAAI,qBAAqB,CAAC,CAAC,CAAC,CAAA;AACnD,aAAA;AAED,YAAA,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;AACzE,YAAA,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AAC9D,YAAA,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAE3D,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBAC1B,IAAI,CAAC,uBAAuB,EAAE,CAAC;AAC/B,aAAA;YAED,IAAI,IAAI,CAAC,SAAS,EAAE;gBACnB,IAAI,CAAC,SAAS,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACzG,aAAA;AAAM,iBAAA;AACN,gBAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;AACtB,aAAA;YAED,IAAI,uBAAuB,GAAG,KAAK,CAAC;AAEpC,YAAA,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,KAAK,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE;gBAC7D,IAAI,CAAC,gBAAgB,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;gBACvD,uBAAuB,GAAG,IAAI,CAAC;AAC/B,aAAA;YAED,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,KAAK,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE;gBAC7D,IAAI,CAAC,gBAAgB,CAAC,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;gBACvD,uBAAuB,GAAG,IAAI,CAAC;AAC/B,aAAA;AAED,YAAA,IAAI,uBAAuB,EAAE;gBAC5B,IAAI,CAAC,uBAAuB,EAAE,CAAC;AAC/B,aAAA;AAED,YAAA,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;AACvC,YAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,SAAA;QAED,IAAI,OAAO,CAAC,kBAAkB,EAAE;AAC/B,YAAA,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;AACnD,SAAA;KACD;IAEM,WAAW,GAAA;AACjB,QAAA,IAAI,CAAC,kBAAkB,CAAC,cAAc,EAAE,CAAC;KACzC;AAED,IAAA,IAAW,WAAW,GAAA;QACrB,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAE5G,IAAI,KAAK,IAAI,CAAC,EAAE;AACf,YAAA,OAAO,CAAC,CAAC;AACT,SAAA;AAED,QAAA,OAAO,KAAK,CAAC;KACb;AAED,IAAA,IAAW,WAAW,GAAA;QACrB,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,IAAI,IAAI,CAAC,UAAU,CAAC,WAAW;AAC3D,YAAA,IAAI,CAAC,UAAU,CAAC,SAAS,IAAI,IAAI,CAAC,WAAW,KAAK,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM;YAC7E,IAAI,CAAC,SAAS,EACb;AACD,YAAA,OAAO,MAAM,CAAC;AACd,SAAA;AAED,QAAA,OAAO,MAAM,CAAC;KACd;AAED,IAAA,IAAW,YAAY,GAAA;AACtB,QAAA,OAAO,IAAI,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KACnC;AAMM,IAAA,QAAQ,CAAC,KAAK,EAAA;AACpB,QAAA,IAAI,CAAC,IAAI,CAAC,gBAAgB,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE;AACzF,YAAA,OAAO,MAAM,CAAC;AACd,SAAA;QAED,OAAO,CAAA,EAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,IAAI,CAAC;KAC5C;IAEM,OAAO,CAAC,KAAiB,EAAE,GAAQ,EAAA;AACzC,QAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACxB;IAEM,WAAW,CAAC,GAAe,EAAE,QAAgB,EAAA;AACnD,QAAA,IAAI,IAAI,CAAC,UAAU,KAAK,QAAQ,EAAE;AACjC,YAAA,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC;AAC3B,YAAA,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;AACvC,SAAA;KACD;IAGM,UAAU,GAAA;AAChB,QAAA,IAAI,IAAI,CAAC,UAAU,KAAK,IAAI,EAAE;AAC7B,YAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;AACvB,YAAA,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;AACvC,SAAA;KACD;AAEM,IAAA,kBAAkB,CAAC,QAAgB,EAAA;AACzC,QAAA,IAAI,CAAC,gBAAgB,CAAC,IAAI,GAAG,QAAQ,CAAC;AACtC,QAAA,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;KACpC;AAEM,IAAA,YAAY,CAAC,IAAe,EAAA;AAClC,QAAA,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;YACf,OAAO;AACP,SAAA;QAED,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAChC,IAAI,CAAC,gBAAgB,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;AACvD,QAAA,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;KACpC;IAEO,mBAAmB,GAAA;QAC1B,OAAO,IAAI,4BAA4B,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAA;KACxI;IAEO,qBAAqB,GAAA;AAC5B,QAAA,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC,EAAE,GAAG,CAAC;AAC7D,QAAA,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC;AACpD,QAAA,MAAM,IAAI,GAAG,WAAW,IAAI,SAAS,IAAI,EAAE,CAAC;QAE5C,OAAO;AACN,YAAA,IAAI,EAAE,CAAC;YACP,QAAQ,EAAE,IAAI,CAAC,WAAW;AAC1B,YAAA,IAAI,EAAE,CAAA,EAAG,IAAI,CAAA,EAAG,IAAI,GAAG,OAAO,GAAG,EAAE,CAAE,CAAA;SACrC,CAAA;KACD;AAEO,IAAA,uBAAuB,CAAC,UAAU,GAAG,IAAI,EAAE,SAAS,GAAG,KAAK,EAAA;AACnE,QAAA,MAAM,cAAc,GAAG,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;QACvE,MAAM,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC;QAEtD,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE;YACjE,OAAO,cAAc,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;AACpD,SAAA;AAED,QAAA,IAAI,CAAC,UAAU,IAAI,SAAS,EAAE;YAC7B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;AACjD,SAAA;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,EAAE;YACnC,UAAU;AACV,YAAA,WAAW,EAAE,EAAE,GAAG,cAAc,EAAE,GAAG,cAAc,EAAE;YACrD,UAAU,EAAE,IAAI,CAAC,cAAc;AAC/B,SAAA,CAAC,CAAC;KACH;IAEO,uBAAuB,GAAA;QAC9B,qBAAqB,CAAC,MAAK;AAC1B,YAAA,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;YAC5B,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AAC3G,SAAC,CAAC,CAAA;KACF;;AA7PW,qBAAA,CAAA,IAAA,GAAA,EAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,qBAAqB,iIAqEb,qBAAqB,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;uGArE7B,qBAAqB,EAAA,QAAA,EAAA,eAAA,EAAA,MAAA,EAAA,EAAA,UAAA,EAAA,YAAA,EAAA,KAAA,EAAA,OAAA,EAAA,SAAA,EAAA,WAAA,EAAA,SAAA,EAAA,WAAA,EAAA,gBAAA,EAAA,kBAAA,EAAA,SAAA,EAAA,WAAA,EAAA,aAAA,EAAA,eAAA,EAAA,kBAAA,EAAA,oBAAA,EAAA,cAAA,EAAA,gBAAA,EAAA,OAAA,EAAA,SAAA,EAAA,EAAA,OAAA,EAAA,EAAA,eAAA,EAAA,iBAAA,EAAA,QAAA,EAAA,UAAA,EAAA,EAAA,WAAA,EAAA,CAAA,EAAA,YAAA,EAAA,OAAA,EAAA,SAAA,EAAA,CAAA,OAAA,CAAA,EAAA,WAAA,EAAA,IAAA,EAAA,CAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EClClC,ovLAyHA,ED1Fa,MAAA,EAAA,CAAA,ukHAAA,CAAA,EAAA,UAAA,EAAA,CAAA,EAAA,IAAA,EAAA,EAAA,CAAA,cAAA,EAAA,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,MAAA,EAAA,OAAA,EAAA,aAAA,CAAA,EAAA,OAAA,EAAA,CAAA,cAAA,CAAA,EAAA,QAAA,EAAA,CAAA,gBAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,UAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,SAAA,EAAA,SAAA,EAAA,UAAA,CAAA,EAAA,QAAA,EAAA,CAAA,SAAA,CAAA,EAAA,CAAA,EAAA,UAAA,EAAA,CAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,cAAA,EAAA,eAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAA,sBAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,YAAA,EAAA,KAAA,EAAA,UAAA,CAAA,EAAA,CAAA,EAAA,UAAA,EAAA,CAAC,yBAAyB,EAAE,EAAE,0BAA0B,EAAE,CAAC,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA;4FAG3D,qBAAqB,EAAA,UAAA,EAAA,CAAA;kBAPjC,SAAS;+BACC,eAAe,EAAA,UAAA,EAGb,CAAC,yBAAyB,EAAE,EAAE,0BAA0B,EAAE,CAAC,EAAA,eAAA,EACtD,uBAAuB,CAAC,MAAM,EAAA,QAAA,EAAA,ovLAAA,EAAA,MAAA,EAAA,CAAA,ukHAAA,CAAA,EAAA,CAAA;qKAwEE,GAAG,EAAA,UAAA,EAAA,CAAA;0BADvC,MAAM;2BAAC,qBAAqB,CAAA;4CAtDlC,UAAU,EAAA,CAAA;sBADhB,KAAK;gBAIC,KAAK,EAAA,CAAA;sBADX,KAAK;gBAIC,SAAS,EAAA,CAAA;sBADf,KAAK;gBAIC,SAAS,EAAA,CAAA;sBADf,KAAK;gBAIC,gBAAgB,EAAA,CAAA;sBADtB,KAAK;gBAIC,SAAS,EAAA,CAAA;sBADf,KAAK;gBAIE,aAAa,EAAA,CAAA;sBADnB,KAAK;gBAIA,kBAAkB,EAAA,CAAA;sBADvB,KAAK;gBAQI,cAAc,EAAA,CAAA;sBADxB,KAAK;gBAUC,OAAO,EAAA,CAAA;sBADb,KAAK;gBAMC,eAAe,EAAA,CAAA;sBADrB,MAAM;gBAIA,QAAQ,EAAA,CAAA;sBADd,MAAM;gBAIA,KAAK,EAAA,CAAA;sBADX,YAAY;uBAAC,OAAO,CAAA;;;ME1ET,kBAAkB,CAAA;IACvB,OAAO,MAAM,CACnB,eAAgC,EAAA;QAEhC,MAAM,kBAAkB,GAAG,IAAI,GAAG,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QAExF,OAAO;AACN,YAAA,QAAQ,EAAE,kBAAkB;AAC5B,YAAA,SAAS,EAAE;AACV,gBAAA,EAAE,OAAO,EAAE,iBAAiB,EAAE,QAAQ,EAAE,eAAe,EAAE;AACzD,gBAAA,EAAE,OAAO,EAAE,qBAAqB,EAAE,QAAQ,EAAE,kBAAkB,EAAE;AAChE,aAAA;SACD,CAAC;KACF;;gHAbW,kBAAkB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA;AAAlB,kBAAA,CAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,kBAAkB,iBAV7B,qBAAqB;AACrB,QAAA,sBAAsB,aAGtB,YAAY;QACZ,aAAa;AACb,QAAA,oBAAoB,aAEX,qBAAqB,CAAA,EAAA,CAAA,CAAA;AAEnB,kBAAA,CAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,kBAAkB,EAPrB,OAAA,EAAA,CAAA;YACR,YAAY;YACZ,aAAa;YACb,oBAAoB;AACpB,SAAA,CAAA,EAAA,CAAA,CAAA;4FAGW,kBAAkB,EAAA,UAAA,EAAA,CAAA;kBAZ9B,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACT,oBAAA,YAAY,EAAE;wBACb,qBAAqB;wBACrB,sBAAsB;AACtB,qBAAA;AACD,oBAAA,OAAO,EAAE;wBACR,YAAY;wBACZ,aAAa;wBACb,oBAAoB;AACpB,qBAAA;oBACD,OAAO,EAAE,CAAC,qBAAqB,CAAC;AAChC,iBAAA,CAAA;;;MCbY,sBAAsB,CAAA;IAsBlC,WAA6B,CAAA,UAAsB,EAC/B,SAAoB,EAAA;QADX,IAAU,CAAA,UAAA,GAAV,UAAU,CAAY;QAC/B,IAAS,CAAA,SAAA,GAAT,SAAS,CAAW;AAtBvB,QAAA,IAAA,CAAA,kBAAkB,GAAG,IAAI,kBAAkB,EAAE,CAAC;KAuB9D;AAZD,IAAA,IACW,SAAS,GAAA;QACnB,OAAO,CAAA,KAAA,EAAQ,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,EAAE,CAAA,CAAE,CAAA;KAC5C;;AAED,IAAA,IACW,uBAAuB,GAAA;AACjC,QAAA,OAAO,IAAI,CAAC,UAAU,CAAC,uBAAuB,CAAC;KAC/C;IAMM,QAAQ,GAAA;AACd,QAAA,IAAI,IAAI,CAAC,UAAU,CAAC,uBAAuB,EAAE;YAC5C,IAAI,CAAC,kBAAkB,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,OAAO,EAAE,GAAG,IAAG;gBAClG,GAAG,CAAC,eAAe,EAAE,CAAC;AACvB,aAAC,CAAC,CAAA;YAEF,IAAI,CAAC,kBAAkB,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,WAAW,EAAE,GAAG,IAAG;gBACtG,GAAG,CAAC,eAAe,EAAE,CAAC;AACvB,aAAC,CAAC,CAAA;YAEF,IAAI,CAAC,kBAAkB,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,UAAU,EAAE,GAAG,IAAG;gBACrG,GAAG,CAAC,eAAe,EAAE,CAAC;AACvB,aAAC,CAAC,CAAA;AACF,SAAA;KACD;IAEM,WAAW,GAAA;AACjB,QAAA,IAAI,CAAC,kBAAkB,CAAC,cAAc,EAAE,CAAC;KACzC;AAED,IAAA,IAAW,YAAY,GAAA;QACtB,IAAI,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,KAAK,UAAU,EAAE;YAChD,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACvC,SAAA;QAED,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;KACrC;AAED,IAAA,IAAW,cAAc,GAAA;QACxB,OAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,YAAY,WAAW,CAAA;KAC9D;AAED,IAAA,IAAW,WAAW,GAAA;AACrB,QAAA,IAAI,IAAI,CAAC,QAAQ,YAAY,WAAW,EAAE;YACzC,OAAO,IAAI,CAAC,QAAQ,CAAC;AACrB,SAAA;AAED,QAAA,OAAO,IAAI,CAAC;KACZ;;oHAhEW,sBAAsB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,SAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAtB,sBAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,IAAA,EAAA,sBAAsB,iPAFxB,EAAE,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA,CAAA;4FAEA,sBAAsB,EAAA,UAAA,EAAA,CAAA;kBAHlC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACV,oBAAA,QAAQ,EAAE,EAAE;AACZ,iBAAA,CAAA;yHAKO,UAAU,EAAA,CAAA;sBADhB,KAAK;gBAIC,GAAG,EAAA,CAAA;sBADT,KAAK;gBAIC,QAAQ,EAAA,CAAA;sBADd,KAAK;gBAIK,SAAS,EAAA,CAAA;sBADnB,WAAW;uBAAC,OAAO,CAAA;gBAMT,uBAAuB,EAAA,CAAA;sBADjC,WAAW;uBAAC,8BAA8B,CAAA;;;MCf/B,SAAS,CAAA;AASrB,IAAA,WAAA,CAAY,OAA2B,EAAA;AACtC,QAAA,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC;AACvB,QAAA,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;AAC3B,QAAA,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;AACzB,QAAA,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;AACvC,QAAA,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;AAC3B,QAAA,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;AAC3B,QAAA,IAAI,CAAC,uBAAuB,GAAG,OAAO,CAAC,uBAAuB,CAAA;KAC9D;AACD;;AC5BD;;AAEG;;ACFH;;AAEG;;;;"}