import { ChangeDetectionStrategy, Component, EventEmitter, Inject, Input, Output, ViewChildren, } from '@angular/core';
import { SubscriptionHelper } from '@high-lab/core';
import { paginationFadeInAnimation, paginationFadeOutAnimation } from './animations';
import { DynamicTableQueryParamsModel } from './dynamic-table-query-params.model';
import { DATA_TABLE_CONFIG_MAP } from './injectors';
import { PaginationStateHelper } from './pagination-state.helper';
import { SortStateHelper } from './sort-state.helper';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "@angular/material/progress-bar";
import * as i3 from "@angular/material/icon";
import * as i4 from "@angular/common";
import * as i5 from "./data-table-cell.directive";
export class DynamicTableComponent {
    constructor(elementRef, changeDetectorRef, router, selfActivatedRoute, componentsByConfig) {
        this.elementRef = elementRef;
        this.changeDetectorRef = changeDetectorRef;
        this.router = router;
        this.selfActivatedRoute = selfActivatedRoute;
        this.componentsByConfig = componentsByConfig;
        this.subscriptionHelper = new SubscriptionHelper();
        this.lastRenderedSizes = [];
        this.sortState = new SortStateHelper();
        this.firstInit = true;
        this.emptyRows = null;
        this.rowHeight = 56;
        this.queryParamsMapping = {
            page: 'page',
            pageSize: 'pageSize',
            sort: 'sort'
        };
        this.trackBy = (index, row) => {
            return row;
        };
        this.requestPageData = new EventEmitter();
        this.rowClick = new EventEmitter();
        this.trackPaginationBy = (index, item) => {
            return item.value;
        };
    }
    set activatedRoute(value) {
        this.innerActivatedRoute = value;
    }
    get activatedRoute() {
        return this.innerActivatedRoute || this.selfActivatedRoute;
    }
    async ngOnInit() {
        this.queryParamsModel = this.getQueryParamsModel();
        await this.updateRouterQueryParams(true, true);
        this.subscriptionHelper.next = this.activatedRoute.queryParams.subscribe(() => {
            const newQueryParamsModel = this.getQueryParamsModel();
            if (this.queryParamsModel.toString() !== newQueryParamsModel.toString()) {
                this.queryParamsModel = newQueryParamsModel;
                this.requestPageData.emit(this.queryParamsModel);
                if (this.paginationState) {
                    this.paginationState.page = this.queryParamsModel.page;
                }
                this.sortState.fromString(this.queryParamsModel.sort);
            }
        });
    }
    ngOnChanges(changes) {
        if (changes.dataSource && changes.dataSource.currentValue && this.dataSource.isSuccess) {
            if (!this.paginationState) {
                this.paginationState = new PaginationStateHelper(4);
            }
            this.paginationState.setPageCount(this.dataSource.pagination.totalPages);
            this.paginationState.setPage(this.dataSource.pagination.page);
            this.sortState.fromString(this.dataSource.pagination.sort);
            if (this.fixSizeByLoading) {
                this.updateLastRenderedSizes();
            }
            if (this.fillEmpty) {
                this.emptyRows = new Array(this.dataSource.pagination.pageSize - this.dataSource.data.length).fill(null);
            }
            else {
                this.emptyRows = null;
            }
            let updateRouterQueryParams = false;
            if (this.sortState.toString() !== this.queryParamsModel.sort) {
                this.queryParamsModel.sort = this.sortState.toString();
                updateRouterQueryParams = true;
            }
            if (this.paginationState.page !== this.queryParamsModel.page) {
                this.queryParamsModel.page = this.paginationState.page;
                updateRouterQueryParams = true;
            }
            if (updateRouterQueryParams) {
                this.updateRouterQueryParams();
            }
            this.changeDetectorRef.detectChanges();
            this.firstInit = false;
        }
        if (changes.queryParamsMapping) {
            this.queryParamsModel = this.getQueryParamsModel();
        }
    }
    ngOnDestroy() {
        this.subscriptionHelper.unsubscribeAll();
    }
    get countOfRows() {
        const count = Math.floor(this.elementRef.nativeElement.getBoundingClientRect().height / this.rowHeight) - 2;
        if (count <= 0) {
            return 1;
        }
        return count;
    }
    get tableHeight() {
        if (this.dataSource.isLoading || this.dataSource.isEmptyData ||
            this.dataSource.isFailure || this.countOfRows === this.dataSource.data.length ||
            this.fillEmpty) {
            return '100%';
        }
        return 'auto';
    }
    get skeletonRows() {
        return new Array(this.countOfRows);
    }
    getWidth(index) {
        if (!this.fixSizeByLoading || !this.lastRenderedSizes[index] || this.dataSource.isLoaded) {
            return 'auto';
        }
        return `${this.lastRenderedSizes[index]}px`;
    }
    onClick(event, row) {
        this.rowClick.next(row);
    }
    onMouseOver(evt, rowIndex) {
        if (this.hoverIndex !== rowIndex) {
            this.hoverIndex = rowIndex;
            this.changeDetectorRef.detectChanges();
        }
    }
    onMouseOut() {
        if (this.hoverIndex !== null) {
            this.hoverIndex = null;
            this.changeDetectorRef.detectChanges();
        }
    }
    onPaginationChange(nextPage) {
        this.queryParamsModel.page = nextPage;
        this.updateRouterQueryParams(false);
    }
    onSortChange(cell) {
        if (!cell.sort) {
            return;
        }
        this.sortState.update(cell.key);
        this.queryParamsModel.sort = this.sortState.toString();
        this.updateRouterQueryParams(false);
    }
    getQueryParamsModel() {
        return new DynamicTableQueryParamsModel(this.activatedRoute.snapshot.queryParams, this.queryParamsMapping, this.getDefaultQueryParams());
    }
    getDefaultQueryParams() {
        const defaultSort = this.table.find(v => v.defaultSort)?.key;
        const firstSort = this.table.find(v => v.sort)?.key;
        const sort = defaultSort || firstSort || '';
        return {
            page: 1,
            pageSize: this.countOfRows,
            sort: `${sort}${sort ? ',desc' : ''}`,
        };
    }
    updateRouterQueryParams(replaceUrl = true, emitEvent = false) {
        const allQueryParams = { ...this.activatedRoute.snapshot.queryParams };
        const newQueryParams = this.queryParamsModel.toJSON();
        if (!newQueryParams.hasOwnProperty(this.queryParamsMapping.sort)) {
            delete allQueryParams[this.queryParamsMapping.sort];
        }
        if (!replaceUrl || emitEvent) {
            this.requestPageData.emit(this.queryParamsModel);
        }
        return this.router.navigate(['./'], {
            replaceUrl,
            queryParams: { ...allQueryParams, ...newQueryParams },
            relativeTo: this.activatedRoute,
        });
    }
    updateLastRenderedSizes() {
        requestAnimationFrame(() => {
            this.lastRenderedSizes = [];
            this.thRef.forEach(item => this.lastRenderedSizes.push(item.nativeElement.getBoundingClientRect().width));
        });
    }
}
DynamicTableComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.11", ngImport: i0, type: DynamicTableComponent, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: i1.Router }, { token: i1.ActivatedRoute }, { token: DATA_TABLE_CONFIG_MAP }], target: i0.ɵɵFactoryTarget.Component });
DynamicTableComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.11", type: DynamicTableComponent, selector: "dynamic-table", inputs: { dataSource: "dataSource", table: "table", templates: "templates", fillEmpty: "fillEmpty", fixSizeByLoading: "fixSizeByLoading", rowHeight: "rowHeight", noDataMessage: "noDataMessage", queryParamsMapping: "queryParamsMapping", activatedRoute: "activatedRoute", trackBy: "trackBy" }, outputs: { requestPageData: "requestPageData", rowClick: "rowClick" }, viewQueries: [{ propertyName: "thRef", predicate: ["thRef"], descendants: true }], usesOnChanges: true, ngImport: i0, template: "<mat-progress-bar *ngIf=\"dataSource.isLoading\" mode=\"indeterminate\" [style.top.px]=\"rowHeight - 4\"></mat-progress-bar>\r\n\r\n<table [style.height]=\"tableHeight\"\r\n       [style.table-layout]=\"this.fixSizeByLoading && !this.dataSource.isLoaded ? 'fixed' : 'auto'\"\r\n>\r\n    <thead>\r\n        <tr [style.height.px]=\"rowHeight\">\r\n            <th [class.with-sort]=\"item.sort\"\r\n                [style.width]=\"getWidth(index)\"\r\n                #thRef\r\n                *ngFor=\"let item of table; let index = index\"\r\n                (click)=\"onSortChange(item)\"\r\n            >\r\n               <div class=\"d-fx ai-c\">\r\n                   {{item.label}}\r\n\r\n                   <div *ngIf=\"item.sort\" class=\"sort\">\r\n                       <mat-icon [class.active]=\"sortState.active === item.key && sortState.direction === 'asc'\">arrow_drop_up</mat-icon>\r\n                       <mat-icon [class.active]=\"sortState.active === item.key && sortState.direction === 'desc'\">arrow_drop_down</mat-icon>\r\n                   </div>\r\n               </div>\r\n            </th>\r\n<!--            <ng-container *ngTemplateOutlet=\"headComponent?.headRef;\"></ng-container>-->\r\n        </tr>\r\n    </thead>\r\n\r\n\r\n    <tbody [style.height.px]=\"rowHeight\">\r\n        <ng-container *ngIf=\"dataSource.isLoading\">\r\n            <tr *ngFor=\"let item of skeletonRows; let odd = odd\">\r\n                <td class=\"cell\" *ngFor=\"let x of table\">\r\n                    <div class=\"content-loader\"\r\n                         [class.content-loader--odd]=\"odd\"\r\n                    ></div>\r\n                </td>\r\n            </tr>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"dataSource.isSuccess && !dataSource.isEmptyData\">\r\n            <tr *ngFor=\"let row of dataSource.data; trackBy: trackBy let index = index\"\r\n                [class.hover]=\"hoverIndex === index\"\r\n                (click)=\"onClick($event, row)\"\r\n                (mouseover)=\"onMouseOver($event, index)\"\r\n                (mouseout)=\"onMouseOut()\"\r\n            >\r\n<!--                [class.hover-enabled]=\"rowComponent.hover\"-->\r\n                <ng-container *ngFor=\"let cell of table\"\r\n                              cell\r\n                              [cellConfig]=\"cell\"\r\n                              [row]=\"row\"\r\n                              [template]=\"templates[cell.key]\"\r\n                ></ng-container>\r\n<!--                <ng-container *ngTemplateOutlet=\"rowComponent?.rowRef; context: {item}\"></ng-container>-->\r\n            </tr>\r\n\r\n            <tr *ngFor=\"let x of emptyRows\" class=\"empty-row\">\r\n                <td [attr.colSpan]=\"table.length\"></td>\r\n            </tr>\r\n        </ng-container>\r\n\r\n\r\n        <ng-container *ngIf=\"dataSource.isSuccess && dataSource.isEmptyData\">\r\n            <tr>\r\n                <td [attr.colSpan]=\"table.length\" class=\"ta-c\">\r\n                  {{noDataMessage || 'No Data'}}\r\n                </td>\r\n            </tr>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"dataSource.isFailure\">\r\n            <tr>\r\n                <td [attr.colSpan]=\"table.length\" class=\"ta-c\">\r\n                    Oops! Something went wrong.<br/>\r\n                    Please try again later.\r\n                </td>\r\n            </tr>\r\n        </ng-container>\r\n    </tbody>\r\n\r\n\r\n    <tfoot>\r\n        <tr [style.height.px]=\"rowHeight\">\r\n            <td [attr.colSpan]=\"table.length\">\r\n\r\n                <div class=\"pagination\" *ngIf=\"dataSource.isSuccess || paginationState\">\r\n                    <mat-icon class=\"pagination__arrow\"\r\n                              [class.pagination__arrow--disabled]=\"paginationState.isFirstPage\"\r\n                              (click)=\"onPaginationChange(paginationState.prevPage())\"\r\n                    >chevron_left</mat-icon>\r\n\r\n                    <div class=\"d-fx ai-c\" [style.width.px]=\"paginationState.pageArray.length * 32\">\r\n                        <ng-container *ngFor=\"let item of paginationState.pageArray; trackBy: trackPaginationBy\">\r\n                            <div class=\"pagination__page\"\r\n                                 [class.pagination__page--active]=\"item.value === paginationState.page\"\r\n                                 *ngIf=\"item.isNumber\"\r\n                                 [@paginationFadeIn]=\"!firstInit ? 'enabled' : null\"\r\n                                 [@paginationFadeOut]=\"!firstInit ? 'enabled' : null\"\r\n                                 (click)=\"onPaginationChange(paginationState.setPage(item.value))\"\r\n                            >{{item.value}}</div>\r\n\r\n                            <div class=\"pagination__space\"\r\n                                 *ngIf=\"!item.isNumber\"\r\n                                 [@paginationFadeIn]=\"!firstInit ? 'enabled' : null\"\r\n                                 [@paginationFadeOut]=\"!firstInit ? 'enabled' : null\"\r\n                            >...</div>\r\n                        </ng-container>\r\n                    </div>\r\n\r\n                    <mat-icon class=\"pagination__arrow\"\r\n                              [class.pagination__arrow--disabled]=\"paginationState.isLastPage\"\r\n                              (click)=\"onPaginationChange(paginationState.nextPage())\"\r\n                    >chevron_right</mat-icon>\r\n                </div>\r\n\r\n                <div class=\"d-fx ai-c jc-c\" *ngIf=\"dataSource.isLoading && !paginationState\">\r\n                    <div class=\"content-loader mr-x\" *ngFor=\"let x of [0, 0, 0 ,0 ,0, 0, 0]\"></div>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    </tfoot>\r\n</table>\r\n", styles: [":host{display:block;height:100%;position:relative}:host mat-progress-bar{position:absolute;right:0;left:0}:host::ng-deep table{width:100%;height:100%;border-collapse:collapse;border-spacing:0;border-radius:10px;overflow:hidden}:host::ng-deep table th{padding:var(--size-x) 0 var(--size-x) var(--size-x3)}:host::ng-deep table th:first-child{padding-left:var(--size-x4)}:host::ng-deep table th:last-child{padding-right:var(--size-x4)}:host::ng-deep table thead th{font-size:11px;font-weight:700;text-transform:uppercase;text-align:left;box-sizing:border-box}:host::ng-deep table thead th.with-sort{cursor:pointer;-webkit-user-select:none;user-select:none}:host::ng-deep table thead th .sort{display:inline-flex;flex-direction:column;color:var(--text-color-tint)}:host::ng-deep table thead th .sort mat-icon{height:8px;line-height:6px;font-size:20px;width:15px;cursor:pointer;margin-left:2px}:host::ng-deep table thead th .sort mat-icon.active{color:var(--color-primary)}:host::ng-deep table tbody tr{height:inherit;pointer-events:none}:host::ng-deep table tbody tr:not(.empty-row):nth-child(odd){background:var(--plate-background-color)}:host::ng-deep table tbody tr:not(.empty-row):nth-child(even){background:var(--plate-nested-background-color)}:host::ng-deep table tbody tr.empty-row{pointer-events:none;background:var(--plate-background-color)}:host::ng-deep table tbody tr .cell{--table-row-hover-color: transparent;display:table-cell;vertical-align:inherit;pointer-events:auto;font-size:14px;padding:var(--size-x) 0 var(--size-x) var(--size-x3)}:host::ng-deep table tbody tr .cell:first-child{border-left:6px solid var(--table-row-hover-color);padding-left:calc(var(--size-x4) - 6px)}:host::ng-deep table tbody tr .cell:last-child{border-right:6px solid var(--table-row-hover-color);padding-right:calc(var(--size-x4) - 6px)}:host::ng-deep table tbody tr.hover{cursor:pointer}:host::ng-deep table tbody tr.hover .cell{--table-row-hover-color: var(--color-primary)}:host::ng-deep table tbody tr .content-loader{width:100%;height:18px;border-radius:4px;overflow:hidden}:host::ng-deep table tfoot{background:var(--plate-background-color)}:host::ng-deep table tfoot td{border-top:1px solid var(--divider-color)}:host::ng-deep table tfoot .content-loader{width:24px;height:24px;margin:8px;border-radius:4px}:host::ng-deep table tfoot .pagination{color:var(--text-color-tint);display:flex;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none}:host::ng-deep table tfoot .pagination__arrow,:host::ng-deep table tfoot .pagination__page,:host::ng-deep table tfoot .pagination__space{width:32px;height:32px}:host::ng-deep table tfoot .pagination__arrow{border:1px solid var(--color-primary);border-radius:4px;margin:0 var(--size-x3);font-size:30px;cursor:pointer;color:var(--color-primary);transition:color .2s;box-sizing:border-box}:host::ng-deep table tfoot .pagination__arrow:hover:not(.pagination__arrow--disabled){color:var(--color-primary-tint);border-color:var(--color-primary-tint)}:host::ng-deep table tfoot .pagination__arrow--disabled{color:var(--text-color-tint);border-color:var(--divider-color);pointer-events:none}:host::ng-deep table tfoot .pagination__page{cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;transition:color .2s;will-change:width;overflow:hidden}:host::ng-deep table tfoot .pagination__page:hover{color:var(--color-primary-tint)}:host::ng-deep table tfoot .pagination__page--active{color:var(--color-primary)}:host::ng-deep table tfoot .pagination__space{display:flex;align-items:center;justify-content:center;will-change:width;overflow:hidden}\n"], components: [{ type: i2.MatProgressBar, selector: "mat-progress-bar", inputs: ["color", "mode", "value", "bufferValue"], outputs: ["animationEnd"], exportAs: ["matProgressBar"] }, { type: i3.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }], directives: [{ type: i4.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i4.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i5.DataTableCellDirective, selector: "[cell]", inputs: ["cellConfig", "row", "template"] }], animations: [paginationFadeInAnimation(), paginationFadeOutAnimation()], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.11", ngImport: i0, type: DynamicTableComponent, decorators: [{
            type: Component,
            args: [{ selector: 'dynamic-table', animations: [paginationFadeInAnimation(), paginationFadeOutAnimation()], changeDetection: ChangeDetectionStrategy.OnPush, template: "<mat-progress-bar *ngIf=\"dataSource.isLoading\" mode=\"indeterminate\" [style.top.px]=\"rowHeight - 4\"></mat-progress-bar>\r\n\r\n<table [style.height]=\"tableHeight\"\r\n       [style.table-layout]=\"this.fixSizeByLoading && !this.dataSource.isLoaded ? 'fixed' : 'auto'\"\r\n>\r\n    <thead>\r\n        <tr [style.height.px]=\"rowHeight\">\r\n            <th [class.with-sort]=\"item.sort\"\r\n                [style.width]=\"getWidth(index)\"\r\n                #thRef\r\n                *ngFor=\"let item of table; let index = index\"\r\n                (click)=\"onSortChange(item)\"\r\n            >\r\n               <div class=\"d-fx ai-c\">\r\n                   {{item.label}}\r\n\r\n                   <div *ngIf=\"item.sort\" class=\"sort\">\r\n                       <mat-icon [class.active]=\"sortState.active === item.key && sortState.direction === 'asc'\">arrow_drop_up</mat-icon>\r\n                       <mat-icon [class.active]=\"sortState.active === item.key && sortState.direction === 'desc'\">arrow_drop_down</mat-icon>\r\n                   </div>\r\n               </div>\r\n            </th>\r\n<!--            <ng-container *ngTemplateOutlet=\"headComponent?.headRef;\"></ng-container>-->\r\n        </tr>\r\n    </thead>\r\n\r\n\r\n    <tbody [style.height.px]=\"rowHeight\">\r\n        <ng-container *ngIf=\"dataSource.isLoading\">\r\n            <tr *ngFor=\"let item of skeletonRows; let odd = odd\">\r\n                <td class=\"cell\" *ngFor=\"let x of table\">\r\n                    <div class=\"content-loader\"\r\n                         [class.content-loader--odd]=\"odd\"\r\n                    ></div>\r\n                </td>\r\n            </tr>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"dataSource.isSuccess && !dataSource.isEmptyData\">\r\n            <tr *ngFor=\"let row of dataSource.data; trackBy: trackBy let index = index\"\r\n                [class.hover]=\"hoverIndex === index\"\r\n                (click)=\"onClick($event, row)\"\r\n                (mouseover)=\"onMouseOver($event, index)\"\r\n                (mouseout)=\"onMouseOut()\"\r\n            >\r\n<!--                [class.hover-enabled]=\"rowComponent.hover\"-->\r\n                <ng-container *ngFor=\"let cell of table\"\r\n                              cell\r\n                              [cellConfig]=\"cell\"\r\n                              [row]=\"row\"\r\n                              [template]=\"templates[cell.key]\"\r\n                ></ng-container>\r\n<!--                <ng-container *ngTemplateOutlet=\"rowComponent?.rowRef; context: {item}\"></ng-container>-->\r\n            </tr>\r\n\r\n            <tr *ngFor=\"let x of emptyRows\" class=\"empty-row\">\r\n                <td [attr.colSpan]=\"table.length\"></td>\r\n            </tr>\r\n        </ng-container>\r\n\r\n\r\n        <ng-container *ngIf=\"dataSource.isSuccess && dataSource.isEmptyData\">\r\n            <tr>\r\n                <td [attr.colSpan]=\"table.length\" class=\"ta-c\">\r\n                  {{noDataMessage || 'No Data'}}\r\n                </td>\r\n            </tr>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"dataSource.isFailure\">\r\n            <tr>\r\n                <td [attr.colSpan]=\"table.length\" class=\"ta-c\">\r\n                    Oops! Something went wrong.<br/>\r\n                    Please try again later.\r\n                </td>\r\n            </tr>\r\n        </ng-container>\r\n    </tbody>\r\n\r\n\r\n    <tfoot>\r\n        <tr [style.height.px]=\"rowHeight\">\r\n            <td [attr.colSpan]=\"table.length\">\r\n\r\n                <div class=\"pagination\" *ngIf=\"dataSource.isSuccess || paginationState\">\r\n                    <mat-icon class=\"pagination__arrow\"\r\n                              [class.pagination__arrow--disabled]=\"paginationState.isFirstPage\"\r\n                              (click)=\"onPaginationChange(paginationState.prevPage())\"\r\n                    >chevron_left</mat-icon>\r\n\r\n                    <div class=\"d-fx ai-c\" [style.width.px]=\"paginationState.pageArray.length * 32\">\r\n                        <ng-container *ngFor=\"let item of paginationState.pageArray; trackBy: trackPaginationBy\">\r\n                            <div class=\"pagination__page\"\r\n                                 [class.pagination__page--active]=\"item.value === paginationState.page\"\r\n                                 *ngIf=\"item.isNumber\"\r\n                                 [@paginationFadeIn]=\"!firstInit ? 'enabled' : null\"\r\n                                 [@paginationFadeOut]=\"!firstInit ? 'enabled' : null\"\r\n                                 (click)=\"onPaginationChange(paginationState.setPage(item.value))\"\r\n                            >{{item.value}}</div>\r\n\r\n                            <div class=\"pagination__space\"\r\n                                 *ngIf=\"!item.isNumber\"\r\n                                 [@paginationFadeIn]=\"!firstInit ? 'enabled' : null\"\r\n                                 [@paginationFadeOut]=\"!firstInit ? 'enabled' : null\"\r\n                            >...</div>\r\n                        </ng-container>\r\n                    </div>\r\n\r\n                    <mat-icon class=\"pagination__arrow\"\r\n                              [class.pagination__arrow--disabled]=\"paginationState.isLastPage\"\r\n                              (click)=\"onPaginationChange(paginationState.nextPage())\"\r\n                    >chevron_right</mat-icon>\r\n                </div>\r\n\r\n                <div class=\"d-fx ai-c jc-c\" *ngIf=\"dataSource.isLoading && !paginationState\">\r\n                    <div class=\"content-loader mr-x\" *ngFor=\"let x of [0, 0, 0 ,0 ,0, 0, 0]\"></div>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    </tfoot>\r\n</table>\r\n", styles: [":host{display:block;height:100%;position:relative}:host mat-progress-bar{position:absolute;right:0;left:0}:host::ng-deep table{width:100%;height:100%;border-collapse:collapse;border-spacing:0;border-radius:10px;overflow:hidden}:host::ng-deep table th{padding:var(--size-x) 0 var(--size-x) var(--size-x3)}:host::ng-deep table th:first-child{padding-left:var(--size-x4)}:host::ng-deep table th:last-child{padding-right:var(--size-x4)}:host::ng-deep table thead th{font-size:11px;font-weight:700;text-transform:uppercase;text-align:left;box-sizing:border-box}:host::ng-deep table thead th.with-sort{cursor:pointer;-webkit-user-select:none;user-select:none}:host::ng-deep table thead th .sort{display:inline-flex;flex-direction:column;color:var(--text-color-tint)}:host::ng-deep table thead th .sort mat-icon{height:8px;line-height:6px;font-size:20px;width:15px;cursor:pointer;margin-left:2px}:host::ng-deep table thead th .sort mat-icon.active{color:var(--color-primary)}:host::ng-deep table tbody tr{height:inherit;pointer-events:none}:host::ng-deep table tbody tr:not(.empty-row):nth-child(odd){background:var(--plate-background-color)}:host::ng-deep table tbody tr:not(.empty-row):nth-child(even){background:var(--plate-nested-background-color)}:host::ng-deep table tbody tr.empty-row{pointer-events:none;background:var(--plate-background-color)}:host::ng-deep table tbody tr .cell{--table-row-hover-color: transparent;display:table-cell;vertical-align:inherit;pointer-events:auto;font-size:14px;padding:var(--size-x) 0 var(--size-x) var(--size-x3)}:host::ng-deep table tbody tr .cell:first-child{border-left:6px solid var(--table-row-hover-color);padding-left:calc(var(--size-x4) - 6px)}:host::ng-deep table tbody tr .cell:last-child{border-right:6px solid var(--table-row-hover-color);padding-right:calc(var(--size-x4) - 6px)}:host::ng-deep table tbody tr.hover{cursor:pointer}:host::ng-deep table tbody tr.hover .cell{--table-row-hover-color: var(--color-primary)}:host::ng-deep table tbody tr .content-loader{width:100%;height:18px;border-radius:4px;overflow:hidden}:host::ng-deep table tfoot{background:var(--plate-background-color)}:host::ng-deep table tfoot td{border-top:1px solid var(--divider-color)}:host::ng-deep table tfoot .content-loader{width:24px;height:24px;margin:8px;border-radius:4px}:host::ng-deep table tfoot .pagination{color:var(--text-color-tint);display:flex;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none}:host::ng-deep table tfoot .pagination__arrow,:host::ng-deep table tfoot .pagination__page,:host::ng-deep table tfoot .pagination__space{width:32px;height:32px}:host::ng-deep table tfoot .pagination__arrow{border:1px solid var(--color-primary);border-radius:4px;margin:0 var(--size-x3);font-size:30px;cursor:pointer;color:var(--color-primary);transition:color .2s;box-sizing:border-box}:host::ng-deep table tfoot .pagination__arrow:hover:not(.pagination__arrow--disabled){color:var(--color-primary-tint);border-color:var(--color-primary-tint)}:host::ng-deep table tfoot .pagination__arrow--disabled{color:var(--text-color-tint);border-color:var(--divider-color);pointer-events:none}:host::ng-deep table tfoot .pagination__page{cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;transition:color .2s;will-change:width;overflow:hidden}:host::ng-deep table tfoot .pagination__page:hover{color:var(--color-primary-tint)}:host::ng-deep table tfoot .pagination__page--active{color:var(--color-primary)}:host::ng-deep table tfoot .pagination__space{display:flex;align-items:center;justify-content:center;will-change:width;overflow:hidden}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: i1.Router }, { type: i1.ActivatedRoute }, { type: Map, decorators: [{
                    type: Inject,
                    args: [DATA_TABLE_CONFIG_MAP]
                }] }]; }, propDecorators: { dataSource: [{
                type: Input
            }], table: [{
                type: Input
            }], templates: [{
                type: Input
            }], fillEmpty: [{
                type: Input
            }], fixSizeByLoading: [{
                type: Input
            }], rowHeight: [{
                type: Input
            }], noDataMessage: [{
                type: Input
            }], queryParamsMapping: [{
                type: Input
            }], activatedRoute: [{
                type: Input
            }], trackBy: [{
                type: Input
            }], requestPageData: [{
                type: Output
            }], rowClick: [{
                type: Output
            }], thRef: [{
                type: ViewChildren,
                args: ['thRef']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHluYW1pYy10YWJsZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9keW5hbWljLXRhYmxlL3NyYy9saWIvZHluYW1pYy10YWJsZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy9keW5hbWljLXRhYmxlL3NyYy9saWIvZHluYW1pYy10YWJsZS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ04sdUJBQXVCLEVBRXZCLFNBQVMsRUFFVCxZQUFZLEVBQ1osTUFBTSxFQUNOLEtBQUssRUFJTCxNQUFNLEVBRU8sWUFBWSxHQUN6QixNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQStCLGtCQUFrQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDakYsT0FBTyxFQUFFLHlCQUF5QixFQUFFLDBCQUEwQixFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXJGLE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBQ2xGLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUVwRCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUNsRSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0scUJBQXFCLENBQUM7Ozs7Ozs7QUFXdEQsTUFBTSxPQUFPLHFCQUFxQjtJQWlFakMsWUFBNkIsVUFBc0IsRUFDdEIsaUJBQW9DLEVBQ3BDLE1BQWMsRUFDZCxrQkFBa0MsRUFFbEMsa0JBQW9EO1FBTHBELGVBQVUsR0FBVixVQUFVLENBQVk7UUFDdEIsc0JBQWlCLEdBQWpCLGlCQUFpQixDQUFtQjtRQUNwQyxXQUFNLEdBQU4sTUFBTSxDQUFRO1FBQ2QsdUJBQWtCLEdBQWxCLGtCQUFrQixDQUFnQjtRQUVsQyx1QkFBa0IsR0FBbEIsa0JBQWtCLENBQWtDO1FBckU5RCx1QkFBa0IsR0FBRyxJQUFJLGtCQUFr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S0FBSztnQkFNQyxlQUFlO3NCQURyQixNQUFNO2dCQUlBLFFBQVE7c0JBRGQsTUFBTTtnQkFJQSxLQUFLO3NCQURYLFlBQVk7dUJBQUMsT0FBTyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcblx0Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXHJcblx0Q2hhbmdlRGV0ZWN0b3JSZWYsXHJcblx0Q29tcG9uZW50LFxyXG5cdEVsZW1lbnRSZWYsXHJcblx0RXZlbnRFbWl0dGVyLFxyXG5cdEluamVjdCxcclxuXHRJbnB1dCxcclxuXHRPbkNoYW5nZXMsXHJcblx0T25EZXN0cm95LFxyXG5cdE9uSW5pdCxcclxuXHRPdXRwdXQsIFF1ZXJ5TGlzdCxcclxuXHRTaW1wbGVDaGFuZ2VzLFxyXG5cdFRlbXBsYXRlUmVmLCBWaWV3Q2hpbGRyZW4sXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEFjdGl2YXRlZFJvdXRlLCBSb3V0ZXIgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xyXG5pbXBvcnQgeyBMb2FkaW5nUHJvZ3Jlc3MsIFBhZ2luYXRpb24sIFN1YnNjcmlwdGlvbkhlbHBlciB9IGZyb20gJ0BoaWdoLWxhYi9jb3JlJztcclxuaW1wb3J0IHsgcGFnaW5hdGlvbkZhZGVJbkFuaW1hdGlvbiwgcGFnaW5hdGlvbkZhZGVPdXRBbmltYXRpb24gfSBmcm9tICcuL2FuaW1hdGlvbnMnO1xyXG5pbXBvcnQgeyBEYXRhVGFibGVDZWxsQ29tcG9uZW50IH0gZnJvbSAnLi9kYXRhLXRhYmxlLWNlbGwuY29tcG9uZW50JztcclxuaW1wb3J0IHsgRHluYW1pY1RhYmxlUXVlcnlQYXJhbXNNb2RlbCB9IGZyb20gJy4vZHluYW1pYy10YWJsZS1xdWVyeS1wYXJhbXMubW9kZWwnO1xyXG5pbXBvcnQgeyBEQVRBX1RBQkxFX0NPTkZJR19NQVAgfSBmcm9tICcuL2luamVjdG9ycyc7XHJcbmltcG9ydCB7IERhdGFUYWJsZVF1ZXJ5UGFyYW1zLCBEYXRhVGFibGVRdWVyeVBhcmFtc01hcHBpbmcgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xyXG5pbXBvcnQgeyBQYWdpbmF0aW9uU3RhdGVIZWxwZXIgfSBmcm9tICcuL3BhZ2luYXRpb24tc3RhdGUuaGVscGVyJztcclxuaW1wb3J0IHsgU29ydFN0YXRlSGVscGVyIH0gZnJvbSAnLi9zb3J0LXN0YXRlLmhlbHBlcic7XHJcbmltcG9ydCB7IFRhYmxlQ2VsbCB9IGZyb20gJy4vdGFibGUtY2VsbCc7XHJcblxyXG5cclxuQENvbXBvbmVudCh7XHJcblx0c2VsZWN0b3I6ICdkeW5hbWljLXRhYmxlJyxcclxuXHR0ZW1wbGF0ZVVybDogJy4vZHluYW1pYy10YWJsZS5jb21wb25lbnQuaHRtbCcsXHJcblx0c3R5bGVVcmxzOiBbJy4vZHluYW1pYy10YWJsZS5jb21wb25lbnQuc2NzcyddLFxyXG5cdGFuaW1hdGlvbnM6IFtwYWdpbmF0aW9uRmFkZUluQW5pbWF0aW9uKCksIHBhZ2luYXRpb25GYWRlT3V0QW5pbWF0aW9uKCldLFxyXG5cdGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBEeW5hbWljVGFibGVDb21wb25lbnQ8VD4gaW1wbGVtZW50cyBPbkNoYW5nZXMsIE9uSW5pdCwgT25EZXN0cm95IHtcclxuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgc3Vic2NyaXB0aW9uSGVscGVyID0gbmV3IFN1YnNjcmlwdGlvbkhlbHBlcigpO1xyXG5cclxuXHRwcm90ZWN0ZWQgaW5uZXJBY3RpdmF0ZWRSb3V0ZTogQWN0aXZhdGVkUm91dGU7XHJcblx0cHJvdGVjdGVkIHByZXZlbnRFbWl0RXZlbnQ6IGJvb2xlYW47XHJcblx0cHVibGljIHF1ZXJ5UGFyYW1zTW9kZWw6IER5bmFtaWNUYWJsZVF1ZXJ5UGFyYW1zTW9kZWw7XHJcblx0cHVibGljIGxhc3RSZW5kZXJlZFNpemVzOiBudW1iZXJbXSA9IFtdO1xyXG5cclxuXHRwdWJsaWMgcGFnaW5hdGlvblN0YXRlOiBQYWdpbmF0aW9uU3RhdGVIZWxwZXI7XHJcblx0cHVibGljIHNvcnRTdGF0ZSA9IG5ldyBTb3J0U3RhdGVIZWxwZXIoKTtcclxuXHRwdWJsaWMgZmlyc3RJbml0ID0gdHJ1ZTtcclxuXHRwdWJsaWMgaG92ZXJJbmRleDogbnVtYmVyO1xyXG5cdHB1YmxpYyBlbXB0eVJvd3M6IG51bWJlcltdID0gbnVsbDtcclxuXHJcblx0QElucHV0KClcclxuXHRwdWJsaWMgZGF0YVNvdXJjZTogTG9hZGluZ1Byb2dyZXNzPFBhZ2luYXRpb248VD4+O1xyXG5cclxuXHRASW5wdXQoKVxyXG5cdHB1YmxpYyB0YWJsZTogVGFibGVDZWxsW107XHJcblxyXG5cdEBJbnB1dCgpXHJcblx0cHVibGljIHRlbXBsYXRlczogeyBba2V5OiBzdHJpbmddOiBUZW1wbGF0ZVJlZjx7IHJvdzogYW55IH0+IH07XHJcblxyXG5cdEBJbnB1dCgpXHJcblx0cHVibGljIGZpbGxFbXB0eTogYm9vbGVhbjtcclxuXHJcblx0QElucHV0KClcclxuXHRwdWJsaWMgZml4U2l6ZUJ5TG9hZGluZzogYm9vbGVhbjtcclxuXHJcblx0QElucHV0KClcclxuXHRwdWJsaWMgcm93SGVpZ2h0ID0gNTY7XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIG5vRGF0YU1lc3NhZ2U6IHN0cmluZztcclxuXHJcbiAgQElucHV0KClcclxuXHRwdWJsaWMgcXVlcnlQYXJhbXNNYXBwaW5nOiBEYXRhVGFibGVRdWVyeVBhcmFtc01hcHBpbmcgPSB7XHJcblx0XHRwYWdlOiAncGFnZScsXHJcblx0XHRwYWdlU2l6ZTogJ3BhZ2VTaXplJyxcclxuXHRcdHNvcnQ6ICdzb3J0J1xyXG5cdH07XHJcblxyXG5cdEBJbnB1dCgpXHJcblx0cHVibGljIHNldCBhY3RpdmF0ZWRSb3V0ZSh2YWx1ZTogQWN0aXZhdGVkUm91dGUpIHtcclxuXHRcdHRoaXMuaW5uZXJBY3RpdmF0ZWRSb3V0ZSA9IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldCBhY3RpdmF0ZWRSb3V0ZSgpOiBBY3RpdmF0ZWRSb3V0ZSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbm5lckFjdGl2YXRlZFJvdXRlIHx8IHRoaXMuc2VsZkFjdGl2YXRlZFJvdXRlO1xyXG5cdH1cclxuXHJcblx0QElucHV0KClcclxuXHRwdWJsaWMgdHJhY2tCeTogKGluZGV4OiBudW1iZXIsIHJvdzogYW55KSA9PiBhbnkgPSAoaW5kZXgsIHJvdykgPT4ge1xyXG5cdFx0cmV0dXJuIHJvdztcclxuXHR9XHJcblxyXG5cdEBPdXRwdXQoKVxyXG5cdHB1YmxpYyByZXF1ZXN0UGFnZURhdGEgPSBuZXcgRXZlbnRFbWl0dGVyPER5bmFtaWNUYWJsZVF1ZXJ5UGFyYW1zTW9kZWw+KCk7XHJcblxyXG5cdEBPdXRwdXQoKVxyXG5cdHB1YmxpYyByb3dDbGljayA9IG5ldyBFdmVudEVtaXR0ZXI8VD4oKTtcclxuXHJcblx0QFZpZXdDaGlsZHJlbigndGhSZWYnKVxyXG5cdHB1YmxpYyB0aFJlZjogUXVlcnlMaXN0PEVsZW1lbnRSZWY8SFRNTFRhYmxlSGVhZGVyQ2VsbEVsZW1lbnQ+PjtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBlbGVtZW50UmVmOiBFbGVtZW50UmVmLFxyXG5cdCAgICAgICAgICAgIHByaXZhdGUgcmVhZG9ubHkgY2hhbmdlRGV0ZWN0b3JSZWY6IENoYW5nZURldGVjdG9yUmVmLFxyXG5cdCAgICAgICAgICAgIHByaXZhdGUgcmVhZG9ubHkgcm91dGVyOiBSb3V0ZXIsXHJcblx0ICAgICAgICAgICAgcHJpdmF0ZSByZWFkb25seSBzZWxmQWN0aXZhdGVkUm91dGU6IEFjdGl2YXRlZFJvdXRlLFxyXG5cdCAgICAgICAgICAgIEBJbmplY3QoREFUQV9UQUJMRV9DT05GSUdfTUFQKVxyXG5cdCAgICAgICAgICAgIHByaXZhdGUgcmVhZG9ubHkgY29tcG9uZW50c0J5Q29uZmlnOiBNYXA8YW55LCBEYXRhVGFibGVDZWxsQ29tcG9uZW50PixcclxuXHQpIHt9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBuZ09uSW5pdCgpIHtcclxuXHRcdHRoaXMucXVlcnlQYXJhbXNNb2RlbCA9IHRoaXMuZ2V0UXVlcnlQYXJhbXNNb2RlbCgpO1xyXG5cdFx0YXdhaXQgdGhpcy51cGRhdGVSb3V0ZXJRdWVyeVBhcmFtcyh0cnVlLCB0cnVlKTtcclxuXHJcblx0XHR0aGlzLnN1YnNjcmlwdGlvbkhlbHBlci5uZXh0ID0gdGhpcy5hY3RpdmF0ZWRSb3V0ZS5xdWVyeVBhcmFtcy5zdWJzY3JpYmUoKCkgPT4ge1xyXG5cdFx0XHRjb25zdCBuZXdRdWVyeVBhcmFtc01vZGVsID0gdGhpcy5nZXRRdWVyeVBhcmFtc01vZGVsKCk7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5xdWVyeVBhcmFtc01vZGVsLnRvU3RyaW5nKCkgIT09IG5ld1F1ZXJ5UGFyYW1zTW9kZWwudG9TdHJpbmcoKSkge1xyXG5cdFx0XHRcdHRoaXMucXVlcnlQYXJhbXNNb2RlbCA9IG5ld1F1ZXJ5UGFyYW1zTW9kZWw7XHJcblx0XHRcdFx0dGhpcy5yZXF1ZXN0UGFnZURhdGEuZW1pdCh0aGlzLnF1ZXJ5UGFyYW1zTW9kZWwpO1xyXG5cclxuXHRcdFx0XHRpZiAodGhpcy5wYWdpbmF0aW9uU3RhdGUpIHtcclxuXHRcdFx0XHRcdHRoaXMucGFnaW5hdGlvblN0YXRlLnBhZ2UgPSB0aGlzLnF1ZXJ5UGFyYW1zTW9kZWwucGFnZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHRoaXMuc29ydFN0YXRlLmZyb21TdHJpbmcodGhpcy5xdWVyeVBhcmFtc01vZGVsLnNvcnQpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XHJcblx0XHRpZiAoY2hhbmdlcy5kYXRhU291cmNlICYmIGNoYW5nZXMuZGF0YVNvdXJjZS5jdXJyZW50VmFsdWUgJiYgdGhpcy5kYXRhU291cmNlLmlzU3VjY2Vzcykge1xyXG5cdFx0XHRpZiAoIXRoaXMucGFnaW5hdGlvblN0YXRlKSB7XHJcblx0XHRcdFx0dGhpcy5wYWdpbmF0aW9uU3RhdGUgPSBuZXcgUGFnaW5hdGlvblN0YXRlSGVscGVyKDQpXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMucGFnaW5hdGlvblN0YXRlLnNldFBhZ2VDb3VudCh0aGlzLmRhdGFTb3VyY2UucGFnaW5hdGlvbi50b3RhbFBhZ2VzKTtcclxuXHRcdFx0dGhpcy5wYWdpbmF0aW9uU3RhdGUuc2V0UGFnZSh0aGlzLmRhdGFTb3VyY2UucGFnaW5hdGlvbi5wYWdlKTtcclxuXHRcdFx0dGhpcy5zb3J0U3RhdGUuZnJvbVN0cmluZyh0aGlzLmRhdGFTb3VyY2UucGFnaW5hdGlvbi5zb3J0KTtcclxuXHJcblx0XHRcdGlmICh0aGlzLmZpeFNpemVCeUxvYWRpbmcpIHtcclxuXHRcdFx0XHR0aGlzLnVwZGF0ZUxhc3RSZW5kZXJlZFNpemVzKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICh0aGlzLmZpbGxFbXB0eSkge1xyXG5cdFx0XHRcdHRoaXMuZW1wdHlSb3dzID0gbmV3IEFycmF5KHRoaXMuZGF0YVNvdXJjZS5wYWdpbmF0aW9uLnBhZ2VTaXplIC0gdGhpcy5kYXRhU291cmNlLmRhdGEubGVuZ3RoKS5maWxsKG51bGwpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuZW1wdHlSb3dzID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IHVwZGF0ZVJvdXRlclF1ZXJ5UGFyYW1zID0gZmFsc2U7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5zb3J0U3RhdGUudG9TdHJpbmcoKSAhPT0gdGhpcy5xdWVyeVBhcmFtc01vZGVsLnNvcnQpIHtcclxuXHRcdFx0XHR0aGlzLnF1ZXJ5UGFyYW1zTW9kZWwuc29ydCA9IHRoaXMuc29ydFN0YXRlLnRvU3RyaW5nKCk7XHJcblx0XHRcdFx0dXBkYXRlUm91dGVyUXVlcnlQYXJhbXMgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodGhpcy5wYWdpbmF0aW9uU3RhdGUucGFnZSAhPT0gdGhpcy5xdWVyeVBhcmFtc01vZGVsLnBhZ2UpIHtcclxuXHRcdFx0XHR0aGlzLnF1ZXJ5UGFyYW1zTW9kZWwucGFnZSA9IHRoaXMucGFnaW5hdGlvblN0YXRlLnBhZ2U7XHJcblx0XHRcdFx0dXBkYXRlUm91dGVyUXVlcnlQYXJhbXMgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodXBkYXRlUm91dGVyUXVlcnlQYXJhbXMpIHtcclxuXHRcdFx0XHR0aGlzLnVwZGF0ZVJvdXRlclF1ZXJ5UGFyYW1zKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xyXG5cdFx0XHR0aGlzLmZpcnN0SW5pdCA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChjaGFuZ2VzLnF1ZXJ5UGFyYW1zTWFwcGluZykge1xyXG5cdFx0XHR0aGlzLnF1ZXJ5UGFyYW1zTW9kZWwgPSB0aGlzLmdldFF1ZXJ5UGFyYW1zTW9kZWwoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBuZ09uRGVzdHJveSgpIHtcclxuXHRcdHRoaXMuc3Vic2NyaXB0aW9uSGVscGVyLnVuc3Vic2NyaWJlQWxsKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0IGNvdW50T2ZSb3dzKCk6IG51bWJlciB7XHJcblx0XHRjb25zdCBjb3VudCA9IE1hdGguZmxvb3IodGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IC8gdGhpcy5yb3dIZWlnaHQpIC0gMjtcclxuXHJcblx0XHRpZiAoY291bnQgPD0gMCkge1xyXG5cdFx0XHRyZXR1cm4gMTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gY291bnQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0IHRhYmxlSGVpZ2h0KCk6IHN0cmluZyB7XHJcblx0XHRpZiAodGhpcy5kYXRhU291cmNlLmlzTG9hZGluZyB8fCB0aGlzLmRhdGFTb3VyY2UuaXNFbXB0eURhdGEgfHxcclxuXHRcdFx0dGhpcy5kYXRhU291cmNlLmlzRmFpbHVyZSB8fCB0aGlzLmNvdW50T2ZSb3dzID09PSB0aGlzLmRhdGFTb3VyY2UuZGF0YS5sZW5ndGggfHxcclxuXHRcdFx0dGhpcy5maWxsRW1wdHlcclxuXHRcdCkge1xyXG5cdFx0XHRyZXR1cm4gJzEwMCUnO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAnYXV0byc7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0IHNrZWxldG9uUm93cygpOiBudW1iZXJbXSB7XHJcblx0XHRyZXR1cm4gbmV3IEFycmF5KHRoaXMuY291bnRPZlJvd3MpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHRyYWNrUGFnaW5hdGlvbkJ5ID0gKGluZGV4LCBpdGVtKSA9PiB7XHJcblx0XHRyZXR1cm4gaXRlbS52YWx1ZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRXaWR0aChpbmRleCkge1xyXG5cdFx0aWYgKCF0aGlzLmZpeFNpemVCeUxvYWRpbmcgfHwgIXRoaXMubGFzdFJlbmRlcmVkU2l6ZXNbaW5kZXhdIHx8IHRoaXMuZGF0YVNvdXJjZS5pc0xvYWRlZCkge1xyXG5cdFx0XHRyZXR1cm4gJ2F1dG8nO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBgJHt0aGlzLmxhc3RSZW5kZXJlZFNpemVzW2luZGV4XX1weGA7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgb25DbGljayhldmVudDogTW91c2VFdmVudCwgcm93OiBhbnkpIHtcclxuXHRcdHRoaXMucm93Q2xpY2submV4dChyb3cpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIG9uTW91c2VPdmVyKGV2dDogTW91c2VFdmVudCwgcm93SW5kZXg6IG51bWJlcik6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMuaG92ZXJJbmRleCAhPT0gcm93SW5kZXgpIHtcclxuXHRcdFx0dGhpcy5ob3ZlckluZGV4ID0gcm93SW5kZXg7XHJcblx0XHRcdHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblxyXG5cdHB1YmxpYyBvbk1vdXNlT3V0KCk6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMuaG92ZXJJbmRleCAhPT0gbnVsbCkge1xyXG5cdFx0XHR0aGlzLmhvdmVySW5kZXggPSBudWxsO1xyXG5cdFx0XHR0aGlzLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBvblBhZ2luYXRpb25DaGFuZ2UobmV4dFBhZ2U6IG51bWJlcik6IHZvaWQge1xyXG5cdFx0dGhpcy5xdWVyeVBhcmFtc01vZGVsLnBhZ2UgPSBuZXh0UGFnZTtcclxuXHRcdHRoaXMudXBkYXRlUm91dGVyUXVlcnlQYXJhbXMoZmFsc2UpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIG9uU29ydENoYW5nZShjZWxsOiBUYWJsZUNlbGwpOiB2b2lkIHtcclxuXHRcdGlmICghY2VsbC5zb3J0KSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnNvcnRTdGF0ZS51cGRhdGUoY2VsbC5rZXkpO1xyXG5cdFx0dGhpcy5xdWVyeVBhcmFtc01vZGVsLnNvcnQgPSB0aGlzLnNvcnRTdGF0ZS50b1N0cmluZygpO1xyXG5cdFx0dGhpcy51cGRhdGVSb3V0ZXJRdWVyeVBhcmFtcyhmYWxzZSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldFF1ZXJ5UGFyYW1zTW9kZWwoKTogRHluYW1pY1RhYmxlUXVlcnlQYXJhbXNNb2RlbCB7XHJcblx0XHRyZXR1cm4gbmV3IER5bmFtaWNUYWJsZVF1ZXJ5UGFyYW1zTW9kZWwodGhpcy5hY3RpdmF0ZWRSb3V0ZS5zbmFwc2hvdC5xdWVyeVBhcmFtcywgdGhpcy5xdWVyeVBhcmFtc01hcHBpbmcsIHRoaXMuZ2V0RGVmYXVsdFF1ZXJ5UGFyYW1zKCkpXHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldERlZmF1bHRRdWVyeVBhcmFtcygpOiBEYXRhVGFibGVRdWVyeVBhcmFtcyB7XHJcblx0XHRjb25zdCBkZWZhdWx0U29ydCA9IHRoaXMudGFibGUuZmluZCh2ID0+IHYuZGVmYXVsdFNvcnQpPy5rZXk7XHJcblx0XHRjb25zdCBmaXJzdFNvcnQgPSB0aGlzLnRhYmxlLmZpbmQodiA9PiB2LnNvcnQpPy5rZXk7XHJcblx0XHRjb25zdCBzb3J0ID0gZGVmYXVsdFNvcnQgfHwgZmlyc3RTb3J0IHx8ICcnO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHBhZ2U6IDEsXHJcblx0XHRcdHBhZ2VTaXplOiB0aGlzLmNvdW50T2ZSb3dzLFxyXG5cdFx0XHRzb3J0OiBgJHtzb3J0fSR7c29ydCA/ICcsZGVzYycgOiAnJ31gLFxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSB1cGRhdGVSb3V0ZXJRdWVyeVBhcmFtcyhyZXBsYWNlVXJsID0gdHJ1ZSwgZW1pdEV2ZW50ID0gZmFsc2UpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuXHRcdGNvbnN0IGFsbFF1ZXJ5UGFyYW1zID0geyAuLi50aGlzLmFjdGl2YXRlZFJvdXRlLnNuYXBzaG90LnF1ZXJ5UGFyYW1zIH07XHJcblx0XHRjb25zdCBuZXdRdWVyeVBhcmFtcyA9IHRoaXMucXVlcnlQYXJhbXNNb2RlbC50b0pTT04oKTtcclxuXHJcblx0XHRpZiAoIW5ld1F1ZXJ5UGFyYW1zLmhhc093blByb3BlcnR5KHRoaXMucXVlcnlQYXJhbXNNYXBwaW5nLnNvcnQpKSB7XHJcblx0XHRcdGRlbGV0ZSBhbGxRdWVyeVBhcmFtc1t0aGlzLnF1ZXJ5UGFyYW1zTWFwcGluZy5zb3J0XTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXJlcGxhY2VVcmwgfHwgZW1pdEV2ZW50KSB7XHJcblx0XHRcdHRoaXMucmVxdWVzdFBhZ2VEYXRhLmVtaXQodGhpcy5xdWVyeVBhcmFtc01vZGVsKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5yb3V0ZXIubmF2aWdhdGUoWycuLyddLCB7XHJcblx0XHRcdHJlcGxhY2VVcmwsXHJcblx0XHRcdHF1ZXJ5UGFyYW1zOiB7IC4uLmFsbFF1ZXJ5UGFyYW1zLCAuLi5uZXdRdWVyeVBhcmFtcyB9LFxyXG5cdFx0XHRyZWxhdGl2ZVRvOiB0aGlzLmFjdGl2YXRlZFJvdXRlLFxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHVwZGF0ZUxhc3RSZW5kZXJlZFNpemVzKCk6IHZvaWQge1xyXG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuXHRcdFx0dGhpcy5sYXN0UmVuZGVyZWRTaXplcyA9IFtdO1xyXG5cdFx0XHR0aGlzLnRoUmVmLmZvckVhY2goaXRlbSA9PiB0aGlzLmxhc3RSZW5kZXJlZFNpemVzLnB1c2goaXRlbS5uYXRpdmVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKSk7XHJcblx0XHR9KVxyXG5cdH1cclxufVxyXG4iLCI8bWF0LXByb2dyZXNzLWJhciAqbmdJZj1cImRhdGFTb3VyY2UuaXNMb2FkaW5nXCIgbW9kZT1cImluZGV0ZXJtaW5hdGVcIiBbc3R5bGUudG9wLnB4XT1cInJvd0hlaWdodCAtIDRcIj48L21hdC1wcm9ncmVzcy1iYXI+XHJcblxyXG48dGFibGUgW3N0eWxlLmhlaWdodF09XCJ0YWJsZUhlaWdodFwiXHJcbiAgICAgICBbc3R5bGUudGFibGUtbGF5b3V0XT1cInRoaXMuZml4U2l6ZUJ5TG9hZGluZyAmJiAhdGhpcy5kYXRhU291cmNlLmlzTG9hZGVkID8gJ2ZpeGVkJyA6ICdhdXRvJ1wiXHJcbj5cclxuICAgIDx0aGVhZD5cclxuICAgICAgICA8dHIgW3N0eWxlLmhlaWdodC5weF09XCJyb3dIZWlnaHRcIj5cclxuICAgICAgICAgICAgPHRoIFtjbGFzcy53aXRoLXNvcnRdPVwiaXRlbS5zb3J0XCJcclxuICAgICAgICAgICAgICAgIFtzdHlsZS53aWR0aF09XCJnZXRXaWR0aChpbmRleClcIlxyXG4gICAgICAgICAgICAgICAgI3RoUmVmXHJcbiAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgaXRlbSBvZiB0YWJsZTsgbGV0IGluZGV4ID0gaW5kZXhcIlxyXG4gICAgICAgICAgICAgICAgKGNsaWNrKT1cIm9uU29ydENoYW5nZShpdGVtKVwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZnggYWktY1wiPlxyXG4gICAgICAgICAgICAgICAgICAge3tpdGVtLmxhYmVsfX1cclxuXHJcbiAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiaXRlbS5zb3J0XCIgY2xhc3M9XCJzb3J0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgPG1hdC1pY29uIFtjbGFzcy5hY3RpdmVdPVwic29ydFN0YXRlLmFjdGl2ZSA9PT0gaXRlbS5rZXkgJiYgc29ydFN0YXRlLmRpcmVjdGlvbiA9PT0gJ2FzYydcIj5hcnJvd19kcm9wX3VwPC9tYXQtaWNvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICA8bWF0LWljb24gW2NsYXNzLmFjdGl2ZV09XCJzb3J0U3RhdGUuYWN0aXZlID09PSBpdGVtLmtleSAmJiBzb3J0U3RhdGUuZGlyZWN0aW9uID09PSAnZGVzYydcIj5hcnJvd19kcm9wX2Rvd248L21hdC1pY29uPlxyXG4gICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L3RoPlxyXG48IS0tICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImhlYWRDb21wb25lbnQ/LmhlYWRSZWY7XCI+PC9uZy1jb250YWluZXI+LS0+XHJcbiAgICAgICAgPC90cj5cclxuICAgIDwvdGhlYWQ+XHJcblxyXG5cclxuICAgIDx0Ym9keSBbc3R5bGUuaGVpZ2h0LnB4XT1cInJvd0hlaWdodFwiPlxyXG4gICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJkYXRhU291cmNlLmlzTG9hZGluZ1wiPlxyXG4gICAgICAgICAgICA8dHIgKm5nRm9yPVwibGV0IGl0ZW0gb2Ygc2tlbGV0b25Sb3dzOyBsZXQgb2RkID0gb2RkXCI+XHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJjZWxsXCIgKm5nRm9yPVwibGV0IHggb2YgdGFibGVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudC1sb2FkZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgW2NsYXNzLmNvbnRlbnQtbG9hZGVyLS1vZGRdPVwib2RkXCJcclxuICAgICAgICAgICAgICAgICAgICA+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgIDwvbmctY29udGFpbmVyPlxyXG5cclxuICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiZGF0YVNvdXJjZS5pc1N1Y2Nlc3MgJiYgIWRhdGFTb3VyY2UuaXNFbXB0eURhdGFcIj5cclxuICAgICAgICAgICAgPHRyICpuZ0Zvcj1cImxldCByb3cgb2YgZGF0YVNvdXJjZS5kYXRhOyB0cmFja0J5OiB0cmFja0J5IGxldCBpbmRleCA9IGluZGV4XCJcclxuICAgICAgICAgICAgICAgIFtjbGFzcy5ob3Zlcl09XCJob3ZlckluZGV4ID09PSBpbmRleFwiXHJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwib25DbGljaygkZXZlbnQsIHJvdylcIlxyXG4gICAgICAgICAgICAgICAgKG1vdXNlb3Zlcik9XCJvbk1vdXNlT3ZlcigkZXZlbnQsIGluZGV4KVwiXHJcbiAgICAgICAgICAgICAgICAobW91c2VvdXQpPVwib25Nb3VzZU91dCgpXCJcclxuICAgICAgICAgICAgPlxyXG48IS0tICAgICAgICAgICAgICAgIFtjbGFzcy5ob3Zlci1lbmFibGVkXT1cInJvd0NvbXBvbmVudC5ob3ZlclwiLS0+XHJcbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBjZWxsIG9mIHRhYmxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY2VsbENvbmZpZ109XCJjZWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3Jvd109XCJyb3dcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdGVtcGxhdGVdPVwidGVtcGxhdGVzW2NlbGwua2V5XVwiXHJcbiAgICAgICAgICAgICAgICA+PC9uZy1jb250YWluZXI+XHJcbjwhLS0gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cInJvd0NvbXBvbmVudD8ucm93UmVmOyBjb250ZXh0OiB7aXRlbX1cIj48L25nLWNvbnRhaW5lcj4tLT5cclxuICAgICAgICAgICAgPC90cj5cclxuXHJcbiAgICAgICAgICAgIDx0ciAqbmdGb3I9XCJsZXQgeCBvZiBlbXB0eVJvd3NcIiBjbGFzcz1cImVtcHR5LXJvd1wiPlxyXG4gICAgICAgICAgICAgICAgPHRkIFthdHRyLmNvbFNwYW5dPVwidGFibGUubGVuZ3RoXCI+PC90ZD5cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuXHJcblxyXG4gICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJkYXRhU291cmNlLmlzU3VjY2VzcyAmJiBkYXRhU291cmNlLmlzRW1wdHlEYXRhXCI+XHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgIDx0ZCBbYXR0ci5jb2xTcGFuXT1cInRhYmxlLmxlbmd0aFwiIGNsYXNzPVwidGEtY1wiPlxyXG4gICAgICAgICAgICAgICAgICB7e25vRGF0YU1lc3NhZ2UgfHwgJ05vIERhdGEnfX1cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgPC9uZy1jb250YWluZXI+XHJcblxyXG4gICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJkYXRhU291cmNlLmlzRmFpbHVyZVwiPlxyXG4gICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICA8dGQgW2F0dHIuY29sU3Bhbl09XCJ0YWJsZS5sZW5ndGhcIiBjbGFzcz1cInRhLWNcIj5cclxuICAgICAgICAgICAgICAgICAgICBPb3BzISBTb21ldGhpbmcgd2VudCB3cm9uZy48YnIvPlxyXG4gICAgICAgICAgICAgICAgICAgIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgPC90Ym9keT5cclxuXHJcblxyXG4gICAgPHRmb290PlxyXG4gICAgICAgIDx0ciBbc3R5bGUuaGVpZ2h0LnB4XT1cInJvd0hlaWdodFwiPlxyXG4gICAgICAgICAgICA8dGQgW2F0dHIuY29sU3Bhbl09XCJ0YWJsZS5sZW5ndGhcIj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFnaW5hdGlvblwiICpuZ0lmPVwiZGF0YVNvdXJjZS5pc1N1Y2Nlc3MgfHwgcGFnaW5hdGlvblN0YXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPG1hdC1pY29uIGNsYXNzPVwicGFnaW5hdGlvbl9fYXJyb3dcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY2xhc3MucGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkXT1cInBhZ2luYXRpb25TdGF0ZS5pc0ZpcnN0UGFnZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJvblBhZ2luYXRpb25DaGFuZ2UocGFnaW5hdGlvblN0YXRlLnByZXZQYWdlKCkpXCJcclxuICAgICAgICAgICAgICAgICAgICA+Y2hldnJvbl9sZWZ0PC9tYXQtaWNvbj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZnggYWktY1wiIFtzdHlsZS53aWR0aC5weF09XCJwYWdpbmF0aW9uU3RhdGUucGFnZUFycmF5Lmxlbmd0aCAqIDMyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGl0ZW0gb2YgcGFnaW5hdGlvblN0YXRlLnBhZ2VBcnJheTsgdHJhY2tCeTogdHJhY2tQYWdpbmF0aW9uQnlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYWdpbmF0aW9uX19wYWdlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NsYXNzLnBhZ2luYXRpb25fX3BhZ2UtLWFjdGl2ZV09XCJpdGVtLnZhbHVlID09PSBwYWdpbmF0aW9uU3RhdGUucGFnZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiaXRlbS5pc051bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtAcGFnaW5hdGlvbkZhZGVJbl09XCIhZmlyc3RJbml0ID8gJ2VuYWJsZWQnIDogbnVsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtAcGFnaW5hdGlvbkZhZGVPdXRdPVwiIWZpcnN0SW5pdCA/ICdlbmFibGVkJyA6IG51bGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwib25QYWdpbmF0aW9uQ2hhbmdlKHBhZ2luYXRpb25TdGF0ZS5zZXRQYWdlKGl0ZW0udmFsdWUpKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+e3tpdGVtLnZhbHVlfX08L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFnaW5hdGlvbl9fc3BhY2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cIiFpdGVtLmlzTnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW0BwYWdpbmF0aW9uRmFkZUluXT1cIiFmaXJzdEluaXQgPyAnZW5hYmxlZCcgOiBudWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW0BwYWdpbmF0aW9uRmFkZU91dF09XCIhZmlyc3RJbml0ID8gJ2VuYWJsZWQnIDogbnVsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+Li4uPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8bWF0LWljb24gY2xhc3M9XCJwYWdpbmF0aW9uX19hcnJvd1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjbGFzcy5wYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWRdPVwicGFnaW5hdGlvblN0YXRlLmlzTGFzdFBhZ2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwib25QYWdpbmF0aW9uQ2hhbmdlKHBhZ2luYXRpb25TdGF0ZS5uZXh0UGFnZSgpKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgPmNoZXZyb25fcmlnaHQ8L21hdC1pY29uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZnggYWktYyBqYy1jXCIgKm5nSWY9XCJkYXRhU291cmNlLmlzTG9hZGluZyAmJiAhcGFnaW5hdGlvblN0YXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtbG9hZGVyIG1yLXhcIiAqbmdGb3I9XCJsZXQgeCBvZiBbMCwgMCwgMCAsMCAsMCwgMCwgMF1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgIDwvdHI+XHJcbiAgICA8L3Rmb290PlxyXG48L3RhYmxlPlxyXG4iXX0=